<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Getting Started</title>
<link rel="stylesheet" href="../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../index.html" title="Contract++ 0.3.490">
<link rel="up" href="../index.html" title="Contract++ 0.3.490">
<link rel="prev" href="../index.html" title="Contract++ 0.3.490">
<link rel="next" href="tutorial.html" title="Tutorial">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="tutorial.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="contract__.getting_started"></a><a class="link" href="getting_started.html" title="Getting Started">Getting Started</a>
</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="getting_started.html#contract__.getting_started.installation">Installation</a></span></dt>
<dt><span class="section"><a href="getting_started.html#contract__.getting_started.header_files">Header Files</a></span></dt>
<dt><span class="section"><a href="getting_started.html#contract__.getting_started.control_contract_compilation">Control
      Contract Compilation</a></span></dt>
<dt><span class="section"><a href="getting_started.html#contract__.getting_started.names_and_symbols">Names and
      Symbols</a></span></dt>
<dt><span class="section"><a href="getting_started.html#contract__.getting_started.compile_time_configuration">Compile-Time
      Configuration</a></span></dt>
</dl></div>
<p>
      This section illustrates how to setup your system to use this library.
    </p>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="contract__.getting_started.installation"></a><a class="link" href="getting_started.html#contract__.getting_started.installation" title="Installation">Installation</a>
</h3></div></div></div>
<p>
        This library requires the <a href="http://www.boost.org/libs/mpl/doc/index.html" target="_top">Boost.MPL</a>
        and <a href="http://www.boost.org/libs/preprocessor/doc/index.html" target="_top">Boost.Preprocessor</a>
        libraries. The <a href="http://www.boost.org/" target="_top">Boost</a> library is
        a collection of highly portable C++ libraries. You should be able to download,
        compile, and install <a href="http://www.boost.org/" target="_top">Boost</a> for
        your operating system from the <a href="http://www.boost.org/" target="_top">Boost</a>
        website. Precompiled <a href="http://www.boost.org/" target="_top">Boost</a> installation
        packages are also available for most common operating systems and they might
        already be installed on your system.
      </p>
<p>
        This library is composed of header files only. Therefore there are no library
        precompiled object files which need to be installed. Just instruct your C++
        compiler where to find the library header files (e.g., using the '-I' option
        for GCC or '/I' for MSVC). For example, if you have uncompressed the library
        files in a directory named <code class="computeroutput"><span class="string">"$HOME/libs/contractpp/"</span></code>
        then you can compile with GCC using:
      </p>
<pre class="programlisting">$ g++ -I$HOME/libs/contractpp/src/ ...
</pre>
<p>
        Note that the path of the library source files (contained in the <code class="computeroutput"><span class="string">"src/"</span></code> subdirectory) is specified.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="contract__.getting_started.header_files"></a><a class="link" href="getting_started.html#contract__.getting_started.header_files" title="Header Files">Header Files</a>
</h3></div></div></div>
<p>
        The library headers are simply included in your C++ source code as follow:
      </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">contract</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<p>
        In general, there is no need to include the header files from the <code class="literal">"contract/"</code>
        directory separately and the one include above is enough. In this documentation,
        the <code class="computeroutput"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">contract</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        will occasionally be assumed and omitted from the example code.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="contract__.getting_started.control_contract_compilation"></a><a class="link" href="getting_started.html#contract__.getting_started.control_contract_compilation" title="Control Contract Compilation">Control
      Contract Compilation</a>
</h3></div></div></div>
<p>
        This library provides the following macro symbols to selectively turn on
        or off contract compilation and run-time checking:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <span class="bold"><strong>Block invariants</strong></span> and <span class="bold"><strong>loop
            variants</strong></span> are compiled and checked only if the <code class="computeroutput"><a href="../CONTRACT_CHECK_BLOCK_INVARIANT.html" target="_top">CONTRACT_CHECK_BLOCK_INVARIANT</a></code>
            is #defined. By default, this macro symbol is <span class="emphasis"><em>not</em></span>
            #defined.
          </li>
<li class="listitem">
            <span class="bold"><strong>Class invariants</strong></span> are compiled and checked
            only if the <code class="computeroutput"><a href="../CONTRACT_CHECK_CLASS_INVARIANT.html" target="_top">CONTRACT_CHECK_CLASS_INVARIANT</a></code>
            is #defined. By default, this macro symbol is <span class="emphasis"><em>not</em></span>
            #defined.
          </li>
<li class="listitem">
            <span class="bold"><strong>Preconditions</strong></span> are compiled and checked
            only if the <code class="computeroutput"><a href="../CONTRACT_CHECK_PRECONDITION.html" target="_top">CONTRACT_CHECK_PRECONDITION</a></code>
            is #defined. By default, this macro symbol is <span class="emphasis"><em>not</em></span>
            #defined.
          </li>
<li class="listitem">
            <span class="bold"><strong>Postconditions</strong></span> are compiled and checked
            only if the <code class="computeroutput"><a href="../CONTRACT_CHECK_POSTCONDITION.html" target="_top">CONTRACT_CHECK_POSTCONDITION</a></code>
            is #defined. By default, this macro symbol is <span class="emphasis"><em>not</em></span>
            #defined. In addition, the library copies variables to support old values
            in postconditions only when <code class="computeroutput"><a href="../CONTRACT_CHECK_POSTCONDITION.html" target="_top">CONTRACT_CHECK_POSTCONDITION</a></code>
            is #defined (in this case, these extra copy operations will introduce
            some run-time overhead).
          </li>
</ul></div>
<div class="important"><table border="0" summary="Important">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../images/important.png"></td>
<th align="left">Important</th>
</tr>
<tr><td align="left" valign="top">
<p>
          <span class="bold"><strong>Contracts Off by Default</strong></span>
        </p>
<p>
          All these symbols are #undefined by default so you must define them when
          compiling otherwise the library will do nothing.
        </p>
</td></tr>
</table></div>
<p>
        In Contract Programming, it is usually important to be able to selectively
        turn off compilation of invariants, preconditions, and/or postconditions
        for the sake of run-time efficiency, to reduce the size of the compiled object
        code, and also to reduce the compile-time overhead associated with the compilation
        of contracts. However, be aware that when contract compilation is turned
        off the compiler will not even check that the contract code is syntactically
        correct (so it might be good practice to compile with the contracts turned
        on once to maintain the contract code even if the contracts will be turned
        off in the actual release build).
      </p>
<p>
        These macros must be #defined before the library <span class="emphasis"><em>first</em></span>
        #include. Your compiler options to #define macros can be used to this purpose
        ("-D" and "-U" for GCC, "/D" and "/U"
        for Microsoft Visual C++, etc).
      </p>
<p>
        For example, let's assume we only want to check class invariants and preconditions
        but no postconditions and block invariants. Then we have to #define <code class="computeroutput"><a href="../CONTRACT_CHECK_CLASS_INVARIANT.html" target="_top">CONTRACT_CHECK_CLASS_INVARIANT</a></code>
        and <code class="computeroutput"><a href="../CONTRACT_CHECK_PRECONDITION.html" target="_top">CONTRACT_CHECK_PRECONDITION</a></code>
        but leave <code class="computeroutput"><a href="../CONTRACT_CHECK_POSTCONDITION.html" target="_top">CONTRACT_CHECK_POSTCONDITION</a></code>
        and <code class="computeroutput"><a href="../CONTRACT_CHECK_BLOCK_INVARIANT.html" target="_top">CONTRACT_CHECK_BLOCK_INVARIANT</a></code>
        #undefined. If we are using the GCC compiler, we can do this using the following
        command line options:
      </p>
<pre class="programlisting">$ g++ -DCONTRACT_CHECK_CLASS_INVARIANT -DCONTRACT_CHECK_PRECONDITION
  -UCONTRACT_CHECK_POSTCONDITION -UCONTRACT_CHECK_BLOCK_INVARIANT ...
</pre>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="contract__.getting_started.names_and_symbols"></a><a class="link" href="getting_started.html#contract__.getting_started.names_and_symbols" title="Names and Symbols">Names and
      Symbols</a>
</h3></div></div></div>
<p>
        All library names are defined within the <code class="computeroutput"><span class="identifier">contract</span></code>
        namespace. All library macros start with the <code class="computeroutput"><span class="identifier">CONTRACT</span></code>
        prefix. Any library names, macros, files, directories, etc that end with
        an underscore "<code class="computeroutput"><span class="identifier">_</span></code>"
        are library implementation specific and should <span class="emphasis"><em>not</em></span> be
        used directly in user code by programmers.
      </p>
<p>
        This library needs to <span class="emphasis"><em>augment</em></span> the user code with special
        symbols to implement the contracts. These symbols need to be defined within
        the user code namespace. All these symbols start with the <code class="computeroutput"><span class="identifier">contract</span></code>
        prefix and end with an underscore "<code class="computeroutput"><span class="identifier">_</span></code>"
        to prevent name clashes with user code. Again, these symbols end with an
        underscore "<code class="computeroutput"><span class="identifier">_</span></code>"
        so they are library implementation specific and should <span class="emphasis"><em>not</em></span>
        be used directly in user code by programmers.
      </p>
<p>
        Finally, all library names in the <code class="computeroutput"><span class="identifier">contract</span><span class="special">::</span><span class="identifier">aux</span></code> namespace
        and symbols starting with <code class="computeroutput"><span class="identifier">CONTRACT_AUX</span></code>
        are also library implementation specific and should <span class="emphasis"><em>not</em></span>
        be used directly in user code by programmers.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="contract__.getting_started.compile_time_configuration"></a><a class="link" href="getting_started.html#contract__.getting_started.compile_time_configuration" title="Compile-Time Configuration">Compile-Time
      Configuration</a>
</h3></div></div></div>
<p>
        Some of the library behaviour can be changed at compile-time #defining special
        <span class="emphasis"><em>configuration macros</em></span> (<code class="computeroutput"><a href="../CONTRACT_CONFIG_MAX_FUNCTION_ARITY.html" target="_top">CONTRACT_CONFIG_MAX_FUNCTION_ARITY</a></code>,
        <code class="computeroutput"><a href="../CONTRACT_CONFIG_MAX_MULTIPLE_INHERITANCE.html" target="_top">CONTRACT_CONFIG_MAX_MULTIPLE_INHERITANCE</a></code>,
        etc). If configuration macros are not #defined, the library will use appropriate
        default values for them.
      </p>
<p>
        The library configuration macros can be #defined using your compiler options
        similarly to what discussed above. However, it is strongly recommended <span class="emphasis"><em>not</em></span>
        to change the library compile-time configuration unless strictly necessary.
      </p>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2009, 2010 Lorenzo Caminiti<p>
        Distributed under the Contract++ Software License, Version 1.0 (see accompanying
        file LICENSE_1_0.txt)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="tutorial.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
