<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template static_member_function</title>
<link rel="stylesheet" href="../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../index.html" title="Contract++ 0.3.490">
<link rel="up" href="../reference.html#header.E:.sandbox.contractpp.trunk.doc.qbk.src.contract.static_member_function_hpp" title="Header &lt;E:/sandbox/contractpp/trunk/doc/qbk/src/contract/static_member_function.hpp&gt;">
<link rel="prev" href="state.html" title="Class state">
<link rel="next" href="wrap.html" title="Struct template wrap">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="state.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html#header.E:.sandbox.contractpp.trunk.doc.qbk.src.contract.static_member_function_hpp"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="wrap.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="contract.static_member_function"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template static_member_function</span></h2>
<p>contract::static_member_function</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../reference.html#header.E:.sandbox.contractpp.trunk.doc.qbk.src.contract.static_member_function_hpp" title="Header &lt;E:/sandbox/contractpp/trunk/doc/qbk/src/contract/static_member_function.hpp&gt;">E:/sandbox/contractpp/trunk/doc/qbk/src/contract/static_member_function.hpp</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> F<span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="static_member_function.html" title="Class template static_member_function">static_member_function</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// <a class="link" href="static_member_function.html#contract.static_member_functionconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="static_member_function.html#id436831-bb"><span class="identifier">static_member_function</span></a><span class="special">(</span><span class="identifier">__BodyFunctionPointer__</span><span class="special">,</span> 
                         <span class="identifier">__PreconditionFunctionPointer__</span><span class="special">,</span> 
                         <span class="identifier">__PostconditionFunctionPointer__</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="static_member_function.html#id437028-bb"><span class="special">~</span><span class="identifier">static_member_function</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="static_member_function.html#id436775-bb">public member functions</a></span>
  <span class="identifier">ResultType</span> <a class="link" href="static_member_function.html#id436779-bb"><span class="identifier">call</span></a><span class="special">(</span><span class="identifier">ArgumentType1</span><span class="special">,</span> <span class="special">...</span><span class="special">,</span> <span class="identifier">ArgumetnTypeN</span><span class="special">)</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id979337"></a><h2>Description</h2>
<p>Class template used to write contracts for static member functions.</p>
<p><span class="bold"><strong>Note:</strong></span> Only the differences between this class and the <code class="computeroutput"><a class="link" href="nonstatic_member_function.html" title="Class template nonstatic_member_function">contract::nonstatic_member_function</a></code> class are documented here. Read the <code class="computeroutput"><a class="link" href="nonstatic_member_function.html" title="Class template nonstatic_member_function">contract::nonstatic_member_function</a></code> documentation first.</p>
<p>The <code class="computeroutput">CONTRACT_FUNCTION()</code> macro expands to code that uses this class template (when <code class="computeroutput">(static)</code> is specified in the function signature sequence, see the Without the Macros section) -- whenever possible, use the macro instead of using this class template directly. Rarely, it might be needed to use this template class directly to implement workarounds for compilers that do not fully comply with the ISO C++ standard.</p>
<p><span class="bold"><strong>Parameters:</strong></span> </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><span class="bold"><strong><code class="computeroutput">F</code></strong></span></td>
<td>The function type of the static member function being contracted. </td>
</tr></tbody>
</table></div>
<p>
</p>
<p>Base contract classes cannot be specified because static member functions cannot be virtual and they cannot override base virtual functions so they cannot subcontract.</p>
<p>The function type <code class="computeroutput">F</code> must be specified as follows: </p>
<pre class="programlisting">    <span class="identifier">ResultType</span> <span class="special">(</span><span class="identifier">ClassType</span><span class="special">*</span><span class="special">,</span> <span class="identifier">ArgumentType1</span><span class="special">,</span> <span class="special">...</span><span class="special">,</span> <span class="identifier">ArgumentTypeN</span><span class="special">)</span>
</pre>
<p> Note: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><code class="computeroutput">ClassType</code> is never <code class="computeroutput">const</code> because static member functions cannot be constant member functions (there is no object to not modify). </p></li>
<li class="listitem"><p><code class="computeroutput">ClassType</code> cannot be tagged <code class="computeroutput"><a class="link" href="copyable.html" title="Class template copyable">contract::copyable</a></code> because there is no object for static member functions -- the library will generate a compile-time error otherwise.</p></li>
</ul></div>
<p>
<span class="bold"><strong>See:</strong></span> Without the Macros section, <code class="computeroutput"><a class="link" href="nonstatic_member_function.html" title="Class template nonstatic_member_function">contract::nonstatic_member_function</a></code> </p>
<div class="refsect2">
<a name="id979582"></a><h3>
<a name="contract.static_member_functionconstruct-copy-destruct"></a><code class="computeroutput">static_member_function</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="id436831-bb"></a><span class="identifier">static_member_function</span><span class="special">(</span><span class="identifier">__BodyFunctionPointer__</span> body_function<span class="special">,</span> 
                       <span class="identifier">__PreconditionFunctionPointer__</span> precondition_function<span class="special">,</span> 
                       <span class="identifier">__PostconditionFunctionPointer__</span> postcondition_function<span class="special">)</span><span class="special">;</span></pre>
<p>Construct this contract object using the specified body, preconditions, and postconditions functions.</p>
<p><span class="bold"><strong>Parameters:</strong></span> </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td><span class="bold"><strong><code class="computeroutput">body_function</code></strong></span></td>
<td>A pointer to the function executing the body. </td>
</tr>
<tr>
<td><span class="bold"><strong><code class="computeroutput">precondition_function</code></strong></span></td>
<td>A pointer to the function asserting the preconditions. </td>
</tr>
<tr>
<td><span class="bold"><strong><code class="computeroutput">postcondition_function</code></strong></span></td>
<td>A pointer to the function asserting the postconditions. </td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p>Refer to the <code class="computeroutput"><code class="computeroutput"><a class="link" href="nonstatic_member_function.html" title="Class template nonstatic_member_function">contract::nonstatic_member_function</a></code></code> documentation for the definition of metaprogramming constructs used below (<code class="computeroutput">__IfCopyable__</code>, etc).</p>
<p>Note the followings for the function pointer types defined below: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>They are static member functions (they do not specify the class type as in <code class="computeroutput">(ClassType::*)</code> but only the function pointer <code class="computeroutput">(*)</code>). </p></li>
<li class="listitem"><p>They are never <code class="computeroutput">const</code> member functions because they are <code class="computeroutput">static</code>. </p></li>
<li class="listitem"><p>There is no old object value in postconditions, not even <code class="computeroutput">contract::noold</code> (because static member functions have no object).</p></li>
</ul></div>
<p>
The body function pointer type is defined as follows: </p>
<pre class="programlisting">        typedef ResultType (* __BodyFunctionPointer__)
                (   __RemoveCopyable__&lt; ArgumentType1 &gt;,
                    ..., 
                    __RemoveCopyable__&lt; ArgumentTypeN &gt;
                );
</pre>
<p>The precondition function pointer type is defined as follows: </p>
<pre class="programlisting">        typedef ResultType (* __PreconditionFunctionPointer__)
                (   boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable__&lt; ArgumentType1 &gt; &gt;::type&gt;::type,
                    ..., 
                    boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable__&lt; ArgumentTypeN &gt; &gt;::type&gt;::type
                );
</pre>
<p>The postcondition function pointer type is defined as follows: </p>
<pre class="programlisting">        typedef ResultType (* __PreconditionFunctionPointer__)
                (   boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable&lt; ArgumentType1 &gt; &gt;::type&gt;::type,
                    __IfCopyable__&lt; ArgumentType1,
                            boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable__&lt; ArgumentType1 &gt; &gt;::type&gt;::type &gt;,
                    ..., 
                    boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable__&lt; ArgumentTypeN &gt; &gt;::type&gt;::type,
                    __IfCopyable__&lt; ArgumentTypeN,
                            boost::add_reference&lt;boost::add_const&lt;
                            __RemoveCopyable&lt; ArgumentTypeN &gt; &gt;::type&gt;::type &gt;,
                    __IfNonVoid__&lt; boost::add_reference&lt;boost::add_const&lt;
                            ResultType&gt;::type&gt;::type &gt;
                );
</pre>
<p> </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="id437028-bb"></a><span class="special">~</span><span class="identifier">static_member_function</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Destroy this contract object. </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="id979928"></a><h3>
<a name="id436775-bb"></a><code class="computeroutput">static_member_function</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><span class="identifier">ResultType</span> <a name="id436779-bb"></a><span class="identifier">call</span><span class="special">(</span><span class="identifier">ArgumentType1</span> argument1<span class="special">,</span> <span class="special">...</span><span class="special">,</span> <span class="identifier">ArgumetnTypeN</span> argumentN<span class="special">)</span><span class="special">;</span></pre>
<p>Check the contract and executes the member function body.</p>
<p>Refer to the <code class="computeroutput"><code class="computeroutput"><a class="link" href="nonstatic_member_function.html" title="Class template nonstatic_member_function">contract::nonstatic_member_function</a></code></code> documentation.</p>
<p>The <code class="computeroutput">call()</code> function takes no object (because the contracted function is static). </p>
</li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2009, 2010 Lorenzo Caminiti<p>
        Distributed under the Contract++ Software License, Version 1.0 (see accompanying
        file LICENSE_1_0.txt)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="state.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html#header.E:.sandbox.contractpp.trunk.doc.qbk.src.contract.static_member_function_hpp"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="wrap.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
