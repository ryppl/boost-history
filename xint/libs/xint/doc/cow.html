<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>The Extended Integer (XInt) Library: Copying and Argument-Passing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">The Extended Integer (XInt) Library</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="cow">Copying and Argument-Passing </a></h1><p>You might notice that most of the library's functions pass integer objects by value, which strikes most developers as incredibly inefficient. I thought so too, until I read Dave Abrahams' excellent article, <em>"Want Speed? Pass By Value."</em>, which you can find at &lt;<a href="http://cpp-next.com/archive/2009/08/want-speed-pass-by-value/">http://cpp-next.com/archive/2009/08/want-speed-pass-by-value/</a>&gt;.</p>
<p>To increase the speed of the library further, it uses a copy-on-write system internally. That means that if you copy an integer object, the copy and the original share the same storage. They are only assigned separate storage when one of them is changed. This mechanism makes copying a number (explicitly, by returning it, or by using it as a non-reference parameter to a function) very fast, regardless of its size.</p>
<p>Unfortunately, copy-on-write isn't compatible with thread-safe operation, so by default the library will ensure that all of its objects have unique storage before they are returned to your program. If you want maximum speed, and can ensure that integer objects are only used in the threads they are created in, you can disable this by setting the <code>Threadsafe</code> option to <code>false</code> on the <code>integer_t</code>, <code>nothrow_integer_t</code>, or <code>fixed_integer</code> class templates. </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 2 13:37:02 2010 for The Extended Integer (XInt) Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
