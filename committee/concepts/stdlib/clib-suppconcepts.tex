\documentclass[american,twoside]{book}
\usepackage{refbib}
\usepackage{pdfsync}
\input{macros}

%%--------------------------------------------------
%% PDF

\usepackage[pdftex,
            pdftitle={Supplemental Concepts for the C++0x Standard Library},
            pdfsubject={C++ International Standard Proposal},
            pdfcreator={Douglas Gregor},
            bookmarks=true,
            bookmarksnumbered=true,
            pdfpagelabels=true,
            pdfpagemode=UseOutlines,
            pdfstartview=FitH,
            linktocpage=true,
            colorlinks=true,
            linkcolor=blue,
            plainpages=false
           ]{hyperref}

%%--------------------------------------------------
%% Set section numbering limit, toc limit
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{1}

%%--------------------------------------------------
%% Parameters that govern document appearance
\setlength{\oddsidemargin}{0pt}
\setlength{\evensidemargin}{0pt}
\setlength{\textwidth}{6.6in}

%%--------------------------------------------------
%% Handle special hyphenation rules
\hyphenation{tem-plate ex-am-ple in-put-it-er-a-tor}

% Do not put blank pages after chapters that end on odd-numbered pages.
\def\cleardoublepage{\clearpage\if@twoside%
  \ifodd\c@page\else\hbox{}\thispagestyle{empty}\newpage%
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}

\newsavebox\rebindbox

\begin{document}
\raggedbottom

\begin{titlepage}
\begin{center}
\huge
Supplemental Concepts for the C++0x Standard Library
\vspace{0.25in}
\end{center}

\normalsize
\vspace{0.25in}
\par\noindent Authors: 
\begin{tabular}[t]{l}
Douglas Gregor, Indiana University \\
Andrew Lumsdaine, Indiana University
\end{tabular}\vspace{-6pt}

\par\noindent Document number: DRAFT\vspace{-6pt}
\par\noindent Date: \today\vspace{-6pt}
\par\noindent Project: Programming Language \Cpp{}, Library Working Group\vspace{-6pt}
\par\noindent Reply-to: Douglas Gregor $<$\href{mailto:dgregor@osl.iu.edu}{dgregor@osl.iu.edu}$>$\vspace{-6pt}

\section*{Introduction}
This document proposes supplemental concepts for the \Cpp0x Standard
Library, which extend the foundational concepts in N2677. The concepts
and changes herein are the result of LWG discussions and requests.

Within the proposed wording, text that has been added
\textcolor{addclr}{will be presented in blue} \addedConcepts{and
  underlined when possible}. Text that has been removed will be
presented \textcolor{remclr}{in red},\removedConcepts{with
  strike-through when possible}. 

\editorial{Purely editorial comments will be written in a separate,
  shaded box.}

\end{titlepage}

%%--------------------------------------------------
%% Headers and footers
\pagestyle{fancy}
\fancyhead[LE,RO]{\textbf{\rightmark}}
\fancyhead[RE]{\textbf{\leftmark\hspace{1em}\thepage}}
\fancyhead[LO]{\textbf{\thepage\hspace{1em}\leftmark}}
\fancyfoot[C]{Draft}

\fancypagestyle{plain}{
\renewcommand{\headrulewidth}{0in}
\fancyhead[LE,RO]{}
\fancyhead[RE,LO]{}
\fancyfoot{}
}

\renewcommand{\sectionmark}[1]{\markright{\thesection\hspace{1em}#1}}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

\setcounter{chapter}{19}
\rSec0[utilities]{General utilities library}

\rSec1[utility.concepts]{Concepts}

\setcounter{section}{2}
\editorial{Update [concept.support] as follows}
\rSec2[concept.support]{Support concepts}
\setcounter{Paras}{33}
\begin{itemdecl}
concept EnumerationType<typename T> : IntegralConstantExpressionType<T> {
  @\addedConcepts{typename underlying_type;}@
  @\addedConcepts{requires IntegralType<T>}@
        @\addedConcepts{\&\& IntegralLike<T>}@
        @\addedConcepts{\&\& ExplicitlyConvertible<T, underlying_type>}@
        @\addedConcepts{\&\& ExplicitlyConvertible<underlying_type, T>;}@
}
\end{itemdecl}

\begin{itemdescr}
\pnum
\mbox{\reallynote} describes enumeration types
([dcl.enum]). \addedConcepts{\mbox{\tcode{underlying_type}} is the underlying type (\mbox{\ref{dcl.enum}}) of the enumeration type \mbox{\tcode{T}}.}

\pnum
\mbox{\requires}
for every type \mbox{\tcode{T}} that is an enumeration type, a concept map
\mbox{\tcode{EnumerationType<T>}} shall be implicitly defined in namespace
\mbox{\tcode{std}}.
\end{itemdescr}

\end{document}
