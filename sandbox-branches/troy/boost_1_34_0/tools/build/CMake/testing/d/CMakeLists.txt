boost_library_project(
  D
)

boost_library(d
  lib.cpp
  STATIC_COMPILE_FLAGS "-DD_COMPILE_FLAGS -DD_STATIC_COMPILE_FLAGS -DLINKTYPE=static"
  SHARED_COMPILE_FLAGS "-DD_COMPILE_FLAGS -DD_SHARED_COMPILE_FLAGS -DLINKTYPE=shared"

  STATIC_COMPILE_REQUIREMENTS "-DD_COMPILE_REQUIREMENTS -DD_STATIC_COMPILE_REQUIREMENTS"
  SHARED_COMPILE_REQUIREMENTS "-DD_COMPILE_REQUIREMENTS -DD_SHARED_COMPILE_REQUIREMENTS"

  DEPENDS a b c 
)

boost_test_run(test_shared DEPENDS a-shared b-shared c-shared d-shared)
boost_test_run(test_static DEPENDS a-static b-static c-static d-static)

