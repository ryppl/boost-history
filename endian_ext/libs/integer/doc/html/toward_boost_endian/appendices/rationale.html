<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title> Appendix B:
      Rationale</title>
<link rel="stylesheet" href="../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="../../index.html" title="Toward Boost.Endian">
<link rel="up" href="../appendices.html" title="Appendices">
<link rel="prev" href="history.html" title=" Appendix A:
      History">
<link rel="next" href="implementation.html" title=" Appendix
      C: Implementation Notes">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="history.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../appendices.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="implementation.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="toward_boost_endian.appendices.rationale"></a><a href="rationale.html" title=" Appendix B:
      Rationale"> Appendix B:
      Rationale</a>
</h3></div></div></div>
<a name="toward_boost_endian.appendices.rationale.design_considerations_for_boost_endian"></a><h4>
<a name="id4831095"></a>
        <a href="rationale.html#toward_boost_endian.appendices.rationale.design_considerations_for_boost_endian">Design
        considerations for Boost.Endian</a>
      </h4>
<div class="itemizedlist"><ul type="disc">
<li>
          Must be suitable for I/O - in other words, must be memcpyable.
        </li>
<li>
          Must provide exactly the size and internal byte ordering specified.
        </li>
<li>
          Must work correctly when the internal integer representation has more bits
          that the sum of the bits in the external byte representation. Sign extension
          must work correctly when the internal integer representation type has more
          bits than the sum of the bits in the external bytes. For example, using
          a 64-bit integer internally to represent 40-bit (5 byte) numbers must work
          for both positive and negative values.
        </li>
<li>
          Must work correctly (including using the same defined external representation)
          regardless of whether a compiler treats char as signed or unsigned.
        </li>
<li>
          Unaligned types must not cause compilers to insert padding bytes.
        </li>
<li>
          The implementation should supply optimizations only in very limited circumstances.
          Experience has shown that optimizations of endian integers often become
          pessimizations. While this may be obvious when changing machines or compilers,
          it also happens when changing compiler switches, compiler versions, or
          CPU models of the same architecture.
        </li>
<li>
          It is better software engineering if the same implementation works regardless
          of the CPU endianness. In other words, #ifdefs should be avoided where
          possible.
        </li>
</ul></div>
<a name="toward_boost_endian.appendices.rationale.experience"></a><h4>
<a name="id4758374"></a>
        <a href="rationale.html#toward_boost_endian.appendices.rationale.experience">Experience</a>
      </h4>
<p>
        Classes with similar functionality have been independently developed by several
        Boost programmers and used very successful in high-value, high-use applications
        for many years. These independently developed endian libraries often evolved
        from C libraries that were also widely used. Endian integers have proven
        widely useful across a wide range of computer architectures and applications.
      </p>
<a name="toward_boost_endian.appendices.rationale.motivating_use_cases"></a><h4>
<a name="id4758405"></a>
        <a href="rationale.html#toward_boost_endian.appendices.rationale.motivating_use_cases">Motivating
        use cases</a>
      </h4>
<p>
        Neil Mayhew writes: "I can also provide a meaningful use-case for this
        library: reading TrueType font files from disk and processing the contents.
        The data format has fixed endianness (big) and has unaligned values in various
        places. Using Boost.Endian simplifies and cleans the code wonderfully."
      </p>
<a name="toward_boost_endian.appendices.rationale.c__0x"></a><h4>
<a name="id4758437"></a>
        <a href="rationale.html#toward_boost_endian.appendices.rationale.c__0x">C++0x</a>
      </h4>
<p>
        The availability of the C++0x Defaulted Functions feature is detected automatically,
        and will be used if present to ensure that objects of class endian are trivial,
        and thus POD's.
      </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2006 -2009 Beman Dawes<br>Copyright &#169; 2010 Vicente J. Botet Escriba<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="history.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../appendices.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="implementation.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
