<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title> Appendix
      C: Implementation Notes</title>
<link rel="stylesheet" href="../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="../../index.html" title="Toward Boost.Endian">
<link rel="up" href="../appendices.html" title="Appendices">
<link rel="prev" href="rationale.html" title=" Appendix B:
      Rationale">
<link rel="next" href="acknowledgements.html" title=" Appendix
      D: Acknowledgements">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="rationale.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../appendices.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="acknowledgements.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="toward_boost_endian.appendices.implementation"></a><a href="implementation.html" title=" Appendix
      C: Implementation Notes"> Appendix
      C: Implementation Notes</a>
</h3></div></div></div>
<a name="toward_boost_endian.appendices.implementation.faq"></a><h4>
<a name="id4831418"></a>
        <a href="implementation.html#toward_boost_endian.appendices.implementation.faq">FAQ</a>
      </h4>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="bold"><strong>Why bother with endian types?</strong></span> External
          data portability and both speed and space efficiency. Availability of additional
          binary integer sizes and alignments is important in some applications.
        </li>
<li>
<span class="bold"><strong>Why not just use Boost.Serialization?</strong></span>
          Serialization involves a conversion for every object involved in I/O. Endian
          objects require no conversion or copying. They are already in the desired
          format for binary I/O. Thus they can be read or written in bulk.
        </li>
<li>
<span class="bold"><strong>Why bother with binary I/O?</strong></span> Why not just
          use C++ Standard Library stream inserters and extractors? Using binary
          rather than character representations can be more space efficient, with
          a side benefit of faster I/O. CPU time is minimized because conversions
          to and from string are eliminated. Furthermore, binary integers are fixed
          size, and so fixed-size disk records are possible, easing sorting and allowing
          direct access. Disadvantages, such as the inability to use text utilities
          on the resulting files, limit usefulness to applications where the binary
          I/O advantages are paramount.
        </li>
<li>
<span class="bold"><strong>Do these types have any uses outside of I/O?</strong></span>
          Probably not, except for native endianness which can be used for fine grained
          control over size and alignment.
        </li>
<li>
<span class="bold"><strong>Is there is a performance hit when doing arithmetic
          using these types?</strong></span> Yes, for sure, compared to arithmetic operations
          on native integer types. However, these types are usually be faster, and
          sometimes much faster, for I/O compared to stream inserters and extractors,
          or to serialization.
        </li>
<li>
<span class="bold"><strong>Are endian types POD's?</strong></span> Yes for C++0x.
          No for C++03, although several macros are available to force PODness in
          all cases.
        </li>
<li>
<span class="bold"><strong>What are the implications endian types not being
          POD's with C++03 compilers?</strong></span> They can't be used in unions. Also,
          compilers aren't required to align or lay out storage in portable ways,
          although this potential problem hasn't prevented use of Boost.Endian with
          real compilers.
        </li>
<li>
<span class="bold"><strong>Which is better, big-endian or little-endian?</strong></span>
          Big-endian tends to be a bit more of an industry standard, but little-endian
          may be preferred for applications that run primarily on x86 (Intel/AMD)
          and other little-endian CPU's. The <a href="http://en.wikipedia.org/wiki/Endian" target="_top">Wikipedia</a>
          article gives more pros and cons.
        </li>
<li>
<span class="bold"><strong>What good is native endianness?</strong></span> It provides
          alignment and size guarantees not available from the built-in types. It
          eases generic programming.
        </li>
<li>
<span class="bold"><strong>Why bother with the aligned endian types?</strong></span>
          Aligned integer operations may be faster (20 times, in one measurement)
          if the endianness and alignment of the type matches the endianness and
          alignment requirements of the machine. On common CPU architectures, that
          optimization is only available for aligned types. That allows I/O of maximally
          efficient types on an application's primary platform, yet produces data
          files are portable to all platforms. The code, however, is likely to be
          more fragile and less portable than with the unaligned types.
        </li>
<li>
<span class="bold"><strong>These types are really just byte-holders. Why provide
          the arithmetic operations at all?</strong></span> Providing a full set of operations
          reduces program clutter and makes code both easier to write and to read.
          Consider incrementing a variable in a record. It is very convenient to
          write:
        </li>
</ul></div>
<pre class="programlisting"><span class="special">++</span><span class="identifier">record</span><span class="special">.</span><span class="identifier">foo</span><span class="special">;</span>
</pre>
<p>
        Rather than:
      </p>
<pre class="programlisting"><span class="keyword">int</span> <span class="identifier">temp</span><span class="special">(</span> <span class="identifier">record</span><span class="special">.</span><span class="identifier">foo</span><span class="special">);</span>
<span class="special">++</span><span class="identifier">temp</span><span class="special">;</span>
<span class="identifier">record</span><span class="special">.</span><span class="identifier">foo</span> <span class="special">=</span> <span class="identifier">temp</span><span class="special">;</span>
</pre>
<div class="itemizedlist"><ul type="disc"><li>
<span class="bold"><strong>Why do binary stream insertion and extraction use
          operators &lt;= and &gt;= rather than &lt;&lt;= and &gt;&gt;=?</strong></span>
          &lt;&lt;= and &gt;&gt;= associate right-to-left, which is the opposite
          of &lt;&lt; and &gt;&gt;, so would be very confusing and error prone. &lt;=
          and &gt;= associate left-to-right.
        </li></ul></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2006 -2009 Beman Dawes<br>Copyright &#169; 2010 Vicente J. Botet Escriba<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="rationale.html"><img src="../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../appendices.html"><img src="../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="acknowledgements.html"><img src="../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
