# Boost Enums Library test Jamfile

# Copyright Vicente Botet 2011

# Distributed under the Boost Software License, Version 1.0.
# See accompanying file LICENSE_1_0.txt or http://www.boost.org/LICENSE_1_0.txt

# See library home page at http://www.boost.org/libs/opaque


if ! $(BOOST_ROOT)
{
    BOOST_ROOT = [ modules.peek : BOOST_ROOT ] ;
}

project
    : requirements

        # uncomment the line above if you build outside a Boost release
        #<include>$(BOOST_ROOT)
        <include>.

        <define>BOOST_ENABLE_WARNINGS
        <warnings>all
        <toolset>gcc:<cxxflags>-Wextra
        <toolset>gcc:<cxxflags>-pedantic
        <toolset>gcc:<cxxflags>-Wno-long-long
        <toolset>darwin:<cxxflags>-Wextra
        <toolset>darwin:<cxxflags>-pedantic
        <toolset>darwin:<cxxflags>-Wno-long-long
        #<toolset>pathscale:<cxxflags>-Wextra
        <toolset>pathscale:<cxxflags>-Wno-long-long
        <toolset>pathscale:<cxxflags>-pedantic
        <toolset>clang:<cxxflags>-Wextra
        <toolset>clang:<cxxflags>-pedantic
        <toolset>clang:<cxxflags>-Wno-long-long
        <toolset>gcc-mingw-4.5.0:<cxxflags>-Wno-missing-field-initializers
        <toolset>gcc-mingw-4.5.0:<cxxflags>-fdiagnostics-show-option
        <toolset>msvc:<cxxflags>/wd4127
    ;

   test-suite "examples"
        :
        [ compile-fail construction_from_int_fails.cpp ]
        [ run comparaision.cpp ]
        [ compile-fail implicit_conversion_to_ut_fails.cpp ]
        [ compile-fail implicit_conversion_to_bool_fails.cpp ]

        [ compile has_same_size_as_ut.cpp ]
        #[ run defaults_to_enum_default.cpp ]
        [ run constructible_from_enum.cpp ]
        [ run equal_comparable.cpp ]
        [ run not_equal_comparable.cpp ]
        #[ run EnumClass.cpp ]
        #[ run EnumClass.cpp ]
        [ run EnumClass.cpp odr.cpp ]
        ;

  test-suite "enum_array"
  :
        [ run enum_array/types.pass.cpp : : : : enum_array__types__pass ]
        [ run enum_array/cons/default.pass.cpp : : : : enum_array__cons__default__pass ]
        [ run enum_array/cons/initializer_list.pass.cpp : : : : enum_array__cons__initializer_list__pass ]
        [ run enum_array/size/size.pass.cpp : : : : enum_array__size__size__pass ]
        [ run enum_array/data/data.pass.cpp : : : : enum_array__data__data__pass ]
        [ run enum_array/data/data_const.pass.cpp : : : : enum_array__data__data_const__pass ]
        [ run enum_array/swap/swap.pass.cpp : : : : enum_array__swap__swap__pass ]
        [ run enum_array/special/swap.pass.cpp : : : : enum_array__special__swap__pass ]
        [ run enum_array/fill/fill.pass.cpp : : : : enum_array__fill__fill__pass ]
	;
  
  test-suite "enum_set"
	:
        [ run enum_set/version.pass.cpp : : : : enum_set__version__pass ]
  ;
  