<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Chapter 1. Boost.Task</title>
<link rel="stylesheet" href="boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.0">
<link rel="home" href="index.html" title="Chapter 1. Boost.Task">
<link rel="next" href="boost_task/motivation.html" title="Motivation">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../boost.png"></td>
<td align="center"><a href="../../index.html">Home</a></td>
<td align="center"><a href="libraries.html">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav"><a accesskey="n" href="boost_task/motivation.html"><img src="../../doc/html/images/next.png" alt="Next"></a></div>
<div class="chapter" title="Chapter 1. Boost.Task">
<div class="titlepage"><div>
<div><h2 class="title">
<a name="boost_task"></a>Chapter 1. Boost.Task</h2></div>
<div><div class="author"><h3 class="author">
<span class="firstname">Oliver</span> <span class="surname">Kowalke</span>
</h3></div></div>
<div><p class="copyright">Copyright © 2009 Oliver Kowalke</p></div>
<div><div class="legalnotice" title="Legal Notice">
<a name="id549287"></a><p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></div>
</div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="section"><a href="index.html#boost_task.overview"> Overview</a></span></dt>
<dt><span class="section"><a href="boost_task/motivation.html"> Motivation</a></span></dt>
<dt><span class="section"><a href="boost_task/task.html"> Task</a></span></dt>
<dt><span class="section"><a href="boost_task/handle.html"> Handle</a></span></dt>
<dt><span class="section"><a href="boost_task/async.html"> Asynchronous execution</a></span></dt>
<dt><span class="section"><a href="boost_task/own_thread.html"> Execute in own thread</a></span></dt>
<dt><span class="section"><a href="boost_task/new_thread.html"> Execute in new thread</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html"> Thread-pool</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.static_pool"> Static thread-pool</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.channel"> Channel</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.scheduling"> Scheduling</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.pool_shutdown"> Pool shutdown</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.default_pool"> Default pool</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.processor_binding"> Processor binding</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.work_stealing"> Work-Stealing</a></span></dt>
<dt><span class="section"><a href="boost_task/pool.html#boost_task.pool.forkjoin"> Fork/Join</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_task/as_sub_task.html"> Execute as sub-task</a></span></dt>
<dt><span class="section"><a href="boost_task/utilities.html"> Utilities</a></span></dt>
<dt><span class="section"><a href="boost_task/meta_functions.html"> Meta functions</a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html"> Reference</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.task"> Class template <code class="computeroutput"><span class="identifier">task</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.handle"> Class template <code class="computeroutput"><span class="identifier">handle</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.async"> Non-member function <code class="computeroutput"><span class="identifier">async</span><span class="special">(</span> <span class="identifier">task</span><span class="special">&lt;</span> <span class="identifier">R</span> <span class="special">&gt;,</span>
      <span class="identifier">EP</span><span class="special">)</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.async1"> Non-member function <code class="computeroutput"><span class="identifier">async</span><span class="special">(</span> <span class="identifier">task</span><span class="special">&lt;</span> <span class="identifier">R</span> <span class="special">&gt;,</span>
      <span class="identifier">pool</span><span class="special">&lt;</span>
      <span class="identifier">Channel</span> <span class="special">&gt;</span>
      <span class="special">&amp;)</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.async2"> Non-member function <code class="computeroutput"><span class="identifier">async</span><span class="special">(</span> <span class="identifier">task</span><span class="special">&lt;</span> <span class="identifier">R</span> <span class="special">&gt;,</span>
      <span class="identifier">Attr</span><span class="special">,</span> <span class="identifier">pool</span><span class="special">&lt;</span> <span class="identifier">Channel</span> <span class="special">&gt;</span> <span class="special">&amp;)</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.own_thread"> Class <code class="computeroutput"><span class="identifier">own_thread</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.new_thread"> Class <code class="computeroutput"><span class="identifier">new_thread</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.static_pool"> Class template <code class="computeroutput"><span class="identifier">static_pool</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.reschedule_until"> Non-member function
      <code class="computeroutput"><span class="identifier">reschedule_until</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.get_pool"> Non-member function
      <code class="computeroutput"><span class="identifier">get_pool</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.runs_in_pool"> Non-member function
      <code class="computeroutput"><span class="identifier">runs_in_pool</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.worker_id"> Non-member function
      <code class="computeroutput"><span class="identifier">worker_id</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.delay"> Non-member function <code class="computeroutput"><span class="identifier">delay</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.yield"> Non-member function <code class="computeroutput"><span class="identifier">yield</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.interrupt"> Non-member function
      <code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.has_attribute"> Meta function <code class="computeroutput"><span class="identifier">has_attribute</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.attribute_type"> Meta function
      <code class="computeroutput"><span class="identifier">attribute_type</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.invalid_poolsize"> Class <code class="computeroutput"><span class="identifier">invalid_poolsize</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.invalid_scanns"> Class <code class="computeroutput"><span class="identifier">invalid_scanns</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.invalid_timeduration"> Class <code class="computeroutput"><span class="identifier">invalid_timeduration</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.invalid_watermark"> Class <code class="computeroutput"><span class="identifier">invalid_watermark</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.task_rejected"> Class <code class="computeroutput"><span class="identifier">task_rejected</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.poolsize"> Class <code class="computeroutput"><span class="identifier">poolsize</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.high_watermark"> Class <code class="computeroutput"><span class="identifier">high_watermark</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.low_watermark"> Class <code class="computeroutput"><span class="identifier">low_watermark</span></code></a></span></dt>
<dt><span class="section"><a href="boost_task/reference.html#boost_task.reference.scanns"> Class <code class="computeroutput"><span class="identifier">scanns</span></code></a></span></dt>
</dl></dd>
<dt><span class="section"><a href="boost_task/appendices.html">Appendices</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="boost_task/appendices.html#boost_task.appendices.todo"> Appendix A: Future development</a></span></dt>
<dt><span class="section"><a href="boost_task/appendices.html#boost_task.appendices.acknowledgements"> Appendix B:
      Acknowledgments</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="section" title="Overview">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="boost_task.overview"></a><a class="link" href="index.html#boost_task.overview" title="Overview"> Overview</a>
</h2></div></div></div>
<p>
      <span class="bold"><strong>Boost.Task</strong></span> provides an framework for parallel
      execution of tasks (a task is a small unit of code that can be executed independently).
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">task</span></code>, <span class="emphasis"><em>callable</em></span> representing
        a fine-grained work-item:
        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<code class="computeroutput"><span class="identifier">get_id</span><span class="special">()</span></code>
            returning an identifier
          </li>
<li class="listitem">
<code class="computeroutput"><span class="keyword">operator</span><span class="special">()()</span></code>
            to execute the fine-grained work-item
          </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">get_future</span><span class="special">()</span></code>
            providing an <span class="emphasis"><em>asynchronous-completion-token</em></span> in order
            to pass the result (values, exceptions) back to initiator
          </li>
</ul></div>
</li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">handle</span></code>, <span class="emphasis"><em>asynchronous-completion-token</em></span>
        of the asynchronously executed task:
        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<code class="computeroutput"><span class="identifier">get_id</span><span class="special">()</span></code>
            for identifying associated task
          </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">interrupt</span><span class="special">()</span></code>,
            interrupt_and_wait() allow to cancel an cooperative task
          </li>
<li class="listitem">
            interface of <span class="emphasis"><em>asynchronous-completion-token</em></span>:
            <div class="itemizedlist"><ul class="itemizedlist" type="square">
<li class="listitem">
<code class="computeroutput"><span class="identifier">get</span><span class="special">()</span></code>
                retrieve value or exception of task execution
              </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">is_ready</span><span class="special">()</span></code>
                test if task was executed
              </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">wait</span><span class="special">()</span></code>,
                <code class="computeroutput"><span class="identifier">wait_for</span><span class="special">()</span></code>
                and <code class="computeroutput"><span class="identifier">wait_until</span><span class="special">()</span></code>
                block until task is executed and the result is set
              </li>
</ul></div>
</li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">get_future</span><span class="special">()</span></code>
            returns reference to internal future
          </li>
<li class="listitem">
            functions <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">waitfor_all</span><span class="special">()</span></code>/<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">waitfor_any</span><span class="special">()</span></code>
            to wait for all or any handles
          </li>
</ul></div>
</li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">async</span><span class="special">()</span></code>,
        executes a task on behalf of <span class="emphasis"><em>execution-policies</em></span> asynchronously
      </li>
<li class="listitem">
<span class="emphasis"><em>execution-policy</em></span> models:
        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">own_thread</span></code>: executes task in current
            thread.
          </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">new_thread</span></code>: executes task in a newly
            created thread (thread will be destroyed after)
          </li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">default_pool</span></code>: task gets executed by
            a <span class="emphasis"><em>worker-thread</em></span> of the default <span class="emphasis"><em>thread-pool</em></span>
</li>
<li class="listitem">
<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">as_sub_task</span></code>: executes task in newly
            created thread or in a pool of <span class="emphasis"><em>worker-threads</em></span> depending
            on whether current task is already executed in a pool
          </li>
<li class="listitem">
            custom pool: task gets executed by a <span class="emphasis"><em>worker-thread</em></span>
            of a custom <span class="emphasis"><em>thread-pool</em></span> (for instance with priority
            scheduling)
          </li>
</ul></div>
</li>
<li class="listitem">
<span class="emphasis"><em>thread-pools</em></span> with work-stealing algorithm
      </li>
<li class="listitem">
        support of forking and joining sub-tasks
        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            better performance
          </li>
<li class="listitem">
            no deadlock because of inline-execution of sub-tasks
          </li>
<li class="listitem">
            automatically detects if code runs in a <span class="emphasis"><em>thread-pool</em></span>
            so the appropriate mechanism for executing the sub-tasks is choosen
          </li>
</ul></div>
</li>
</ul></div>
<p>
      In order to use the classes and functions described here, you can either include
      the specific headers specified by the descriptions of each class or function,
      or include the master library header:
    </p>
<p>
      
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">task</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<p>
    </p>
<p>
      which includes all the other headers in turn.
    </p>
<p>
      Used namespaces are:
    </p>
<p>
      
</p>
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span>
<span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">this_task</span>
</pre>
<p>
    </p>
<a name="boost_task.overview.example"></a><h4>
<a name="id582635"></a>
      <a class="link" href="index.html#boost_task.overview.example">Example</a>
    </h4>
<p>
      
</p>
<pre class="programlisting"><span class="keyword">long</span> <span class="identifier">fibonacci</span><span class="special">(</span> <span class="keyword">long</span> <span class="identifier">n</span><span class="special">)</span>
<span class="special">{</span>
	<span class="keyword">if</span> <span class="special">(</span> <span class="identifier">n</span> <span class="special">==</span> <span class="number">0</span><span class="special">)</span> <span class="keyword">return</span> <span class="number">0</span><span class="special">;</span>
	<span class="keyword">if</span> <span class="special">(</span> <span class="identifier">n</span> <span class="special">==</span> <span class="number">1</span><span class="special">)</span> <span class="keyword">return</span> <span class="number">1</span><span class="special">;</span>
	<span class="keyword">long</span> <span class="identifier">k1</span><span class="special">(</span> <span class="number">1</span><span class="special">),</span> <span class="identifier">k2</span><span class="special">(</span> <span class="number">0</span><span class="special">);</span>
	<span class="keyword">for</span> <span class="special">(</span> <span class="keyword">int</span> <span class="identifier">i</span><span class="special">(</span> <span class="number">2</span><span class="special">);</span> <span class="identifier">i</span> <span class="special">&lt;=</span> <span class="identifier">n</span><span class="special">;</span> <span class="special">++</span><span class="identifier">i</span><span class="special">)</span>
	<span class="special">{</span>
		<span class="keyword">long</span> <span class="identifier">tmp</span><span class="special">(</span> <span class="identifier">k1</span><span class="special">);</span>
		<span class="identifier">k1</span> <span class="special">=</span> <span class="identifier">k1</span> <span class="special">+</span> <span class="identifier">k2</span><span class="special">;</span>
		<span class="identifier">k2</span> <span class="special">=</span> <span class="identifier">tmp</span><span class="special">;</span>
	<span class="special">}</span>
	<span class="keyword">return</span> <span class="identifier">k1</span><span class="special">;</span>
<span class="special">}</span>

<span class="keyword">void</span> <span class="identifier">main</span><span class="special">()</span>
<span class="special">{</span>
	<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">handle</span><span class="special">&lt;</span> <span class="keyword">long</span> <span class="special">&gt;</span> <span class="identifier">h1</span><span class="special">(</span>
		<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">async</span><span class="special">(</span>
			<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">make_task</span><span class="special">(</span>
				<span class="identifier">fibonacci</span><span class="special">,</span>
				<span class="number">10</span><span class="special">)</span> <span class="special">)</span> <span class="special">);</span>
	<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">handle</span><span class="special">&lt;</span> <span class="keyword">long</span> <span class="special">&gt;</span> <span class="identifier">h2</span><span class="special">(</span>
		<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">async</span><span class="special">(</span>
			<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">make_task</span><span class="special">(</span>
				<span class="identifier">fibonacci</span><span class="special">,</span>
				<span class="number">5</span><span class="special">)</span> <span class="special">)</span> <span class="special">);</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h1: id == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">get_id</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h2: id == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">get_id</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h1: is ready == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h2: is ready == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">boost</span><span class="special">::</span><span class="identifier">task</span><span class="special">::</span><span class="identifier">waitfor_all</span><span class="special">(</span> <span class="identifier">h1</span><span class="special">,</span> <span class="identifier">h2</span><span class="special">);</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h1: is ready == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h2: is ready == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">is_ready</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h1: has value == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">has_value</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h2: has value == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">has_value</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h1: has exception == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">has_exception</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"h2: has exception == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">boolalpha</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">has_exception</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="string">"\n"</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fibonacci(10) == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">h1</span><span class="special">.</span><span class="identifier">get</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
	<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fibonacci(5) == "</span> <span class="special">&lt;&lt;</span> <span class="identifier">h2</span><span class="special">.</span><span class="identifier">get</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
    </p>
<a name="boost_task.overview.references"></a><h4>
<a name="id584217"></a>
      <a class="link" href="index.html#boost_task.overview.references">References</a>
    </h4>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        N2185: Proposed Text for Parallel Task Execution <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2007/n2185.html" target="_top">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2007/n2185.html</a>
        written by Peter Dimov.
      </li>
<li class="listitem">
        N2276: Thread Pools and Futures <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2007/n2276.html" target="_top">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2007/n2276.html</a>
        written by Anthony Williams.
      </li>
<li class="listitem">
        N2802: A plea to reconsider detach-on-destruction for thread objects <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2802.html" target="_top">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2802.html</a>
        written by Hans-J. Boehm.
      </li>
<li class="listitem">
        N2880: C++ object lifetime interactions with the threads API <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2009/n2880.html" target="_top">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2009/n2880.html</a>
        written by Hans-J. Boehm and Lawrence Crowl.
      </li>
<li class="listitem">
<a href="http://herbsutter.wordpress.com" target="_top">'Sutter&#8217;s Mill'</a> by
        Herb Sutter
      </li>
<li class="listitem">
        mailing list of C++ standard committee's Library Working Group
      </li>
</ul></div>
<div class="note" title="Note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../doc/html/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
        <span class="bold"><strong>Boost.Task</strong></span> uses <a href="http://www.justsoftwaresolutions.co.uk/threading/updated-implementation-of-c++-futures-3.html" target="_top"><span class="bold"><strong>Boost.Future</strong></span></a> from Anthony Williams (will be
        integrated in some of the next releases of <a href="http://www.boost.org/libs/thread" target="_top"><span class="bold"><strong>Boost.Thread</strong></span></a>).
      </p></td></tr>
</table></div>
<a name="boost_task.overview.tested_platforms"></a><h4>
<a name="id584318"></a>
      <a class="link" href="index.html#boost_task.overview.tested_platforms">Tested Platforms</a>
    </h4>
<p>
      <span class="bold"><strong>Boost.Task</strong></span> has been tested on the following
      platforms and compilers:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        Debian GNU/Linux 2.6.29.2 (x86_64), GCC 4.3.3
      </li>
<li class="listitem">
        Ubuntu GNU/Linux 2.6.28.11 (x86), GCC 4.3.3
      </li>
<li class="listitem">
        FreeBSD 7.2 (x86), GCC 4.2.1
      </li>
<li class="listitem">
        Windows XP Professional (x86), MSVC 9.0
      </li>
</ul></div>
<a name="boost_task.overview.how_to_build"></a><h4>
<a name="id584359"></a>
      <a class="link" href="index.html#boost_task.overview.how_to_build">How to build</a>
    </h4>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        download the sources form <a href="http://www.boostpro.com/vault/index.php" target="_top">boost-vault</a>
        (section <span class="emphasis"><em>Concurrent Programing</em></span>) or the latest development
        version from <a href="https://svn.boost.org/svn/boost/sandbox/task/" target="_top">boost-sandbox</a>
</li>
<li class="listitem">
        extract the archive into the boost-source directory
      </li>
<li class="listitem">
        change directory to &lt;boost-source&gt;/libs/task/build
      </li>
<li class="listitem">
        call <code class="computeroutput"><span class="identifier">bjam</span> <span class="identifier">toolset</span><span class="special">=&lt;</span><span class="identifier">compiler</span><span class="special">-</span><span class="identifier">name</span><span class="special">&gt;</span></code>
</li>
</ul></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"><p><small>Last revised: June 08, 2009 at 19:40:04 GMT</small></p></td>
<td align="right"><div class="copyright-footer"></div></td>
</tr></table>
<hr>
<div class="spirit-nav"><a accesskey="n" href="boost_task/motivation.html"><img src="../../doc/html/images/next.png" alt="Next"></a></div>
</body>
</html>
