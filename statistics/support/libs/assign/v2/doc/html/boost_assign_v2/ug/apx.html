<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Appendix</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Assign 2.0">
<link rel="up" href="../ug.html" title="User's guide">
<link rel="prev" href="arity.html" title="Configuring arity">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="arity.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_assign_v2.ug.apx"></a><a class="link" href="apx.html" title="Appendix">Appendix</a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.run_efficiency">Runtime efficiency</a></span></dt>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.portability">Portability</a></span></dt>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.change_log">Change log</a></span></dt>
<dd><dl><dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.change_log.v2">[Proposal for]
          Upgrading from Boost v1.4x : Boost.Assign 2.0</a></span></dt></dl></dd>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.help">Getting help</a></span></dt>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.history_and_acknowledgement">History
        and acknowledgement</a></span></dt>
<dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.bibliography">Bibliography</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.run_efficiency"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.run_efficiency" title="Runtime efficiency">Runtime efficiency</a>
</h4></div></div></div>
<p>
          This section relies on notational conventions laid out in section <a class="link" href="notation.html" title="Notation">Notation</a>.. We compare the
          execution time of various ways to fill a given STL container and creating
          an anonymous container provided by this library.
        </p>
<a name="boost_assign_v2.ug.apx.run_efficiency.testing_platform"></a><h6>
<a name="id36344139"></a>
          <a class="link" href="apx.html#boost_assign_v2.ug.apx.run_efficiency.testing_platform">Testing
          platform</a>
        </h6>
<div class="variablelist">
<p class="title"><b></b></p>
<dl>
<dt><span class="term">Processor</span></dt>
<dd><p>
                2.4 Ghz Intel Core 2 Duo
              </p></dd>
<dt><span class="term">Memory</span></dt>
<dd><p>
                4GB 1067 Mhz DDR3
              </p></dd>
<dt><span class="term">OS</span></dt>
<dd><p>
                OS X 10.6.5
              </p></dd>
<dt><span class="term">Compiler</span></dt>
<dd><p>
                gcc4.4 ( <a href="http://www.finkproject.org/" target="_top">Fink</a> )
              </p></dd>
<dt><span class="term">Flags</span></dt>
<dd><p>
                <code class="literal">-O2 -std=c++0x</code>
              </p></dd>
</dl>
</div>
<a name="boost_assign_v2.ug.apx.run_efficiency.set_up"></a><h6>
<a name="id36344240"></a>
          <a class="link" href="apx.html#boost_assign_v2.ug.apx.run_efficiency.set_up">Set up</a>
        </h6>
<p>
          Here are the types that are used:
        </p>
<p>
          
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">elem_</span><span class="special">;</span> <span class="comment">// T
</span><span class="comment">// This STL container is of the same type as that internally used by the
</span><span class="comment">// anon container of values, so we have a common basis for comparing
</span><span class="comment">// their exec time.
</span><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">deque</span><span class="special">&lt;</span> <span class="identifier">elem_</span> <span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
</pre>
<p>
        </p>
<p>
          And here are the simulation parameters:
        </p>
<p>
          
</p>
<pre class="programlisting"><span class="comment">// t is a random size element, with max size :
</span><span class="keyword">const</span> <span class="keyword">int</span> <span class="identifier">elem_size</span> <span class="special">=</span> <span class="number">100</span><span class="special">;</span>
<span class="comment">// Number of loops over which exec time is summed
</span><span class="keyword">const</span> <span class="keyword">int</span> <span class="identifier">n_loops</span> <span class="special">=</span> <span class="number">1000</span> <span class="special">*</span> <span class="number">1000</span><span class="special">;</span>
</pre>
<p>
        </p>
<a name="boost_assign_v2.ug.apx.run_efficiency.results"></a><h6>
<a name="id36344465"></a>
          <a class="link" href="apx.html#boost_assign_v2.ug.apx.run_efficiency.results">Results</a>
        </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Library
                  </p>
                </th>
<th>
                  <p>
                    Expression
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 1</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 2</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 4</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 8</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 16</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 32</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 64</code>
                  </p>
                </th>
<th>
                  <p>
                    <code class="literal">n = 128</code>
                  </p>
                </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <a href="http://en.wikipedia.org/wiki/Standard_Template_Library" target="_top">STL</a>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">);...</span>cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">);</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.12</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.36</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.91</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.90</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.29</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">8.98</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.40</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">37.41</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 1.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">list_of</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.21</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">2.54</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.28</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">7.56</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">14.29</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">28.22</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">55.33</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">110.85</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 1.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">cref_list_of</span><span class="special">&lt;</span>n<span class="special">&gt;(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.04</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.06</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.12</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 1.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">push_back</span><span class="special">(</span> cont <span class="special">)(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.34</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.77</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.89</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.16</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">8.59</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.33</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">36.52</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">73.42</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">csv_anon</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">...,</span>t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.40</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.66</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.23</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">2.38</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.74</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">9.38</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">19.36</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">47.84</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">anon</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;(</span>_nil<span class="special">)(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.99</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.65</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">2.75</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">5.16</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">9.51</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.33</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">36.56</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">72.54</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">ref</span><span class="special">::</span><span class="identifier">assign_copy</span><span class="special">::</span><span class="identifier">csv_anon</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">...,</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.00</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.01</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.04</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.11</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.57</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">10.15</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">ref</span><span class="special">::</span><span class="identifier">assign_copy</span><span class="special">::</span><span class="identifier">anon</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.33</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.38</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.38</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.38</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.51</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.63</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.12</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">2.90</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">csv_put</span><span class="special">(</span> cont <span class="special">)(</span> t<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.12</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.36</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.88</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.92</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.24</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">8.97</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.16</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">37.28</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">put</span><span class="special">(</span> cont <span class="special">)(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.12</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.37</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.86</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.91</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.24</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">8.94</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.09</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">36.79</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">cont <span class="special">|</span> <span class="identifier">csv_put</span><span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.13</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.37</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.91</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.95</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.35</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">9.23</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">18.76</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">48.04</code> s
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">Boost.Assign 2.0	
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">cont <span class="special">|</span> _put<span class="special">(</span> t<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">)...(</span> t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.12</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.36</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">0.86</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">1.96</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">4.46</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">9.79</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">20.51</code> s
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal">46.75</code> s
                  </p>
                </td>
</tr>
</tbody>
</table></div>
<p>
          The functions <code class="computeroutput"><span class="identifier">csv_put</span><span class="special">()</span></code>
          <code class="computeroutput"><span class="identifier">put</span><span class="special">()</span></code>
          are part of the implementation of the adaptors <code class="computeroutput">_csv_put</code> and
          <code class="computeroutput">_put</code>, respectively. Their execution time is given here only
          to gauge the overhead of the layer of code between them and the final product
          (the adaptors).
        </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.portability"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.portability" title="Portability">Portability</a>
</h4></div></div></div>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    OS
                  </p>
                </th>
<th>
                  <p>
                    Compiler
                  </p>
                </th>
<th>
                  <p>
                    Option(s)
                  </p>
                </th>
<th>
                  <p>
                    <a href="http://www.boost.org" target="_top">Boost</a> version(s)
                  </p>
                </th>
<th>
                  <p>
                    Passed, out of <code class="literal">32</code>
                  </p>
                </th>
<th>
                  <p>
                    Log file
                  </p>
                </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    OS X 10.6.5
                  </p>
                </td>
<td>
                  <p>
                    gcc4.2
                  </p>
                </td>
<td>
                </td>
<td>
                  <p>
                    <code class="literal"> <a href="http://svn.boost.org/svn/boost/trunk" target="_top"><code class="literal">boost-trunk</code></a></code>
                    as of 11/2010
                  </p>
                </td>
<td>
                  <p>
                    32/32
                  </p>
                </td>
<td>
                  <p>
                    <a href="../../../../test/unit_testing/log_mac_gcc42" target="_top">log_mac_gcc42</a>
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    OS X 10.6.5
                  </p>
                </td>
<td>
                  <p>
                    gcc4.4 ( <a href="http://www.finkproject.org/" target="_top">Fink</a>
                    )
                  </p>
                </td>
<td>
                  <p>
                    C++0x
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal"> <a href="http://svn.boost.org/svn/boost/trunk" target="_top"><code class="literal">boost-trunk</code></a></code>
                    as of 11/2010
                  </p>
                </td>
<td>
                  <p>
                    32/32
                  </p>
                </td>
<td>
                </td>
</tr>
<tr>
<td>
                  <p>
                    Ubuntu 10.04
                  </p>
                </td>
<td>
                  <p>
                    gcc4.4
                  </p>
                </td>
<td>
                </td>
<td>
                  <p>
                    <code class="literal"> <a href="http://svn.boost.org/svn/boost/trunk" target="_top"><code class="literal">boost-trunk</code></a></code>
                    as of 11/2010
                  </p>
                </td>
<td>
                  <p>
                    32/32
                  </p>
                </td>
<td>
                  <p>
                    <a href="../../../../test/unit_testing/log_ubuntu_gcc44" target="_top">log_ubuntu_gcc44</a>
                  </p>
                </td>
</tr>
<tr>
<td>
                  <p>
                    Ubuntu 10.04
                  </p>
                </td>
<td>
                  <p>
                    gcc4.4
                  </p>
                </td>
<td>
                  <p>
                    C++0x
                  </p>
                </td>
<td>
                  <p>
                    <code class="literal"> <a href="http://svn.boost.org/svn/boost/trunk" target="_top"><code class="literal">boost-trunk</code></a></code>
                    as of 11/2010
                  </p>
                </td>
<td>
                  <p>
                    30/32<sup>[<a name="id36347155" href="#ftn.id36347155" class="footnote">a</a>]</sup>
                  </p>
                </td>
<td>
                  <p>
                    <a href="../../../../test/unit_testing/log_ubuntu_gcc440x" target="_top">log_ubuntu_gcc440x</a>
                  </p>
                </td>
</tr>
</tbody>
<tbody class="footnotes"><tr><td colspan="6"><div class="footnote"><p><sup>[<a name="ftn.id36347155" href="#id36347155" class="para">a</a>] </sup>
                      By running the test suite with <span class="emphasis"><em>bjam</em></span>, otherwise
                      <code class="literal">32/32</code>...
                    </p></div></td></tr></tbody>
</table></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.change_log"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.change_log" title="Change log">Change log</a>
</h4></div></div></div>
<div class="toc"><dl><dt><span class="section"><a href="apx.html#boost_assign_v2.ug.apx.change_log.v2">[Proposal for]
          Upgrading from Boost v1.4x : Boost.Assign 2.0</a></span></dt></dl></div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.apx.change_log.v2"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.change_log.v2" title="[Proposal for] Upgrading from Boost v1.4x : Boost.Assign 2.0">[Proposal for]
          Upgrading from Boost v1.4x : Boost.Assign 2.0</a>
</h5></div></div></div>
<p>
            For backward compatibility and to permit a smooth transition for users
            that are familiar with <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
            1.0</a>, the latter will continue to be supported. The two versions,
            in fact, can be used in the same project as their interfaces don't overlap.
            The reader can quickly form an impression about the latter by referring
            to the <a class="link" href="../../index.html#boost_assign_v2.preface" title="Preface">preface</a>, and compare
            (non-exhaustively) the two versions in section <a class="link" href="apx.html#boost_assign_v2.ug.apx.run_efficiency" title="Runtime efficiency">Runtime
            efficiency</a>. The organizational change is apparent in section
            <a class="link" href="../ug.html#boost_assign_v2.ug.start" title="Getting started">Getting started</a>. The
            remainder of this section discusses the rationale for this upgrade.
          </p>
<a name="change_log_chain"></a><p>
            A revision to <a class="link" href="ref.html" title="Anonymous container of references">anonymous container
            of references</a>, and the addition of a tool for <a class="link" href="chain.html" title="Adaptor _chain">chaining</a>
            them were the subject of a <a href="http://lists.boost.org/Archives/boost/2010/06/168028.php" target="_top">mini-review</a>,
            and carry through to <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>.
            The first discarded the container generating function <code class="computeroutput"><span class="identifier">ref_list_of</span><span class="special">&lt;&gt;()</span></code>'s template parameter specifying
            a size, deducing the latter, instead, as the number of arguments. It
            also added an <a class="link" href="ref.html#boost_assign_v2.ug.ref.assign" title="Assignment policy">assignment
            policy</a> and fitted the container with <a href="http://www.boost.org/doc/libs/release/doc/html/array.html" target="_top">boost::array&lt;&gt;</a>'s
            functionality. Finally, a type of function, termed <span class="emphasis"><em>csv</em></span>,
            was introduced, as a more elegant alternative (but not a replacement)
            to multiple calls to a functor. The second feature, chaining, served
            as an alternative to a container-of-references' member function <code class="computeroutput"><span class="identifier">range</span><span class="special">()</span></code>.
            Since the <a href="http://lists.boost.org/Archives/boost/2010/06/168028.php" target="_top">mini-review</a>,
            the proposal has been further improved. For instance, the dual interface,
            <code class="computeroutput"><span class="identifier">ref_list_of</span><span class="special">()</span></code>
            and <code class="computeroutput"><span class="identifier">cref_list_of</span><span class="special">()</span></code>
            is replaced by a single function, <code class="computeroutput"><span class="identifier">anon</span><span class="special">()</span></code>, that resolves lvalue/const-ness automatically,
            and likewise for chaining. Also, the latter now preserves the lvalue-ness
            of the chained ranges' elements, even if either of the input ranges is
            passed as an rvalue, as may be the case with a container of references.
          </p>
<p>
            During the same <a href="http://lists.boost.org/Archives/boost/2010/06/168028.php" target="_top">mini-review</a>,
            it became apparent that the existing and proposed features lacked homogeneity
            in their interface, and that the relevance of the proposed one was insufficiently
            outlined in the documentation. Conversely, some newly introduced features,
            such as the already mentioned <span class="emphasis"><em>csv</em></span> functions, had
            received enough interest to warrant their generalization throughout the
            rest of the library. Another consensus was the request for exploiting
            <a href="http://www2.research.att.com/~bs/C++0xFAQ.html" target="_top">C++0x</a>'s
            features. Incidentally, some confusion was voiced as to whether a nullary
            call to some container generator, fun(), is supposed to return a container
            that is empty or one that contains a default constructed value. Boost.Assign
            2.0 adresses these requests with a new design that incorporates added
            benefits.
          </p>
<p>
            The solution to the <code class="computeroutput"><span class="identifier">fun</span><span class="special">()</span></code> problem, adopted in <a href="../.././index.html" target="_top">Boost.Assign
            2.0</a>, is to keep <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
            1.0</a>'s convention that <code class="computeroutput"><span class="identifier">fun</span><span class="special">()</span></code> creates a default value, but, in addition,
            <code class="computeroutput"><span class="identifier">fun</span><span class="special">(</span>_nil<span class="special">)</span></code> returns an empty container. As for
            <a href="http://www2.research.att.com/~bs/C++0xFAQ.html" target="_top">C++0x</a>,
            functions are variadic and preserve the lvalue/const-ness of their arguments.
            Under <a href="http://en.wikipedia.org/wiki/C%2B%2B03" target="_top">C++03</a>,
            these aspects are controlled by <a class="link" href="arity.html" title="Configuring arity">overridable
            constants</a> (macros).
          </p>
<p>
            A defining feature of the interface is <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>, which expresses a variant of <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors.html" target="_top">range-adaptors</a>,
            and the <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors/introduction.html#range.reference.adaptors.introduction.composition_of_adaptors" target="_top">composability</a>
            that follows from it. In the library's core framework, <a class="link" href="put.html" title="Put">put</a>,
            the key to efficiency is to hold arguments on the right hand side of
            <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>
            as references, a spillover from <a class="link" href="ref.html" title="Anonymous container of references">container
            of references</a>. The only other operator is <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code>, for selectively overriding the default
            implementation, as seen <a class="link" href="../../index.html#preface_list">here</a>.
          </p>
<p>
            In terms of code-reuse, while <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code> and the <span class="emphasis"><em>list inserters</em></span>
            (e.g. <code class="computeroutput"><span class="identifier">push_back</span><span class="special">()</span></code>)
            are, under <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
            1.0</a>, independently implemented, their counterparts, under <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>, <a class="link" href="../../"><code class="computeroutput"><span class="identifier">anon</span><span class="special">()</span></code></a><sup>[<a name="id36347632" href="#ftn.id36347632" class="footnote">8</a>]</sup> and adaptor <a class="link" href="put.html" title="Put"><code class="computeroutput">_put</code></a>,
            respectively, derive from a common <a href="http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern" target="_top">crtp</a>
            <code class="computeroutput"><span class="keyword">class</span></code>. Thanks to this integrated
            approach, containers such as <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt;&gt;</span></code> or <a href="http://www.boost.org/doc/libs/release/libs/ptr_container/doc/ptr_container.html" target="_top">pointer
            containers</a> fit into the framework without requiring a special
            interface, and internally without or only minor code adustments, respectively.
            The implementation is open to customization and that job is facilitated
            by macros. See sections <a class="link" href="../../">Standard
            modifier</a> and <a class="link" href="../../">Extending
            functionality</a>. Finally, functions <code class="computeroutput"><span class="identifier">range</span><span class="special">&lt;&gt;()</span></code> and <code class="computeroutput"><span class="identifier">convert</span><span class="special">&lt;&gt;()</span></code> that in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
            1.0</a> are members of objects, are now standalone adaptors, renamed
            <a class="link" href="put.html#boost_assign_v2.ug.put.put_range" title="Adaptor put_range"><code class="computeroutput"><span class="identifier">put_range</span><span class="special">&lt;&gt;()</span></code></a> and <a class="link" href="put.html#boost_assign_v2.ug.put.put_convert" title="Adaptor put_convert"><code class="computeroutput"><span class="identifier">put_convert</span><span class="special">&lt;&gt;()</span></code></a>,
            respectively <sup>[<a name="id36347886" href="#ftn.id36347886" class="footnote">9</a>]</sup>, an approach that is coherent with that adaptor for container
            of references (see <a class="link" href="apx.html#change_log_chain">here</a>).
          </p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.help"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.help" title="Getting help">Getting help</a>
</h4></div></div></div>
<p>
          To get help or make a suggestion, post to the <a href="http://www.boost.org/community/groups.html#users" target="_top">Boost
          Users Mailing List</a>, but also make sure to notify <a href="http://www.boost.org/users/people/thorsten_ottosen.html" target="_top">TO</a>
          and <a href="mailto:erDOTciDOT2020ATgmailDOTcom" target="_top">ER</a> by cc-ing
          them.
        </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.history_and_acknowledgement"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.history_and_acknowledgement" title="History and acknowledgement">History
        and acknowledgement</a>
</h4></div></div></div>
<a name="boost_assign_v2.ug.apx.history_and_acknowledgement.boost_assign_1_0"></a><h6>
<a name="id36347981"></a>
          <a class="link" href="apx.html#boost_assign_v2.ug.apx.history_and_acknowledgement.boost_assign_1_0">Boost.Assign
          1.0</a>
        </h6>
<p>
          The idea for an assignment/initialization library is not new. The functionality
          of this library resembles Leor Zolman's STL Container Initialization Library
          a great deal, but it does not rely on string parsing to achieve its goals.
        </p>
<p>
          Special thanks go to
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
              Leor Zolman for our many discussion that eventually led to this library.
            </li>
<li class="listitem">
              Tom Brinkman for being review manager.
            </li>
<li class="listitem">
              Joaqu&#237;n Mu&#241;oz for vc6/vc7 portability.
            </li>
<li class="listitem">
              Pavel Vozenilek for his countless suggestions, improvements and portability
              fixes.
            </li>
<li class="listitem">
              Rene Rivera for Code Warrior portability.
            </li>
</ul></div>
<a name="boost_assign_v2.ug.apx.history_and_acknowledgement.boost_assign_2_0_"></a><h6>
<a name="id36348049"></a>
          <a class="link" href="apx.html#boost_assign_v2.ug.apx.history_and_acknowledgement.boost_assign_2_0_">Boost.Assign
          2.0 </a>
        </h6>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
              Manuel Peinado Gallego identified the need for a (revised) <a class="link" href="ref.html" title="Anonymous container of references">anonymous
              container of references</a>, and provided valuable advice throughout
              the early development of Boost.Assign 2.0, such as proposing a <a href="http://gist.github.com/287791" target="_top">design</a> that laid the foundation
              for <a class="link" href="chain.html" title="Adaptor _chain">chaining</a>.
            </li>
<li class="listitem">
              <a href="http://www.boost.org/users/people/thorsten_ottosen.html" target="_top">TO</a>
              for his guidance leading up to the <a href="http://lists.boost.org/Archives/boost/2010/06/168028.php" target="_top">mini-review</a>,
              which he managed, and help thereafter.
            </li>
</ul></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.apx.bibliography"></a><a class="link" href="apx.html#boost_assign_v2.ug.apx.bibliography" title="Bibliography">Bibliography</a>
</h4></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
              Scott. Meyers, "More Effective C++", Item 7, Addison Wesley,
              1996
            </li>
<li class="listitem">
              K. Czarnecki and U.W. Eisenecker, "Generative programming",
              Addison-Wesley, 2000
            </li>
<li class="listitem">
              <a href="http://www.oonumerics.org/blitz/" target="_top">Blitz</a>
            </li>
<li class="listitem">
              Gabriel Dos Reis and Bjarne Stroustrup, <a href="http://anubis.dkuug.dk/jtc1/sc22/wg21/docs/papers/2003/n1509.pdf" target="_top">Generalized
              Initializer Lists</a>, 2003
            </li>
<li class="listitem">
              Abrahams, David and Gurtovoy, Aleksey, <a href="http://portal.acm.org/citation.cfm?id=1044941#" target="_top">C++
              Template Metaprogramming</a>: Concepts, Tools, and Techniques from
              Boost and Beyond (C++ in Depth Series), 2004, Addison-Wesley Professional.
            </li>
</ul></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div class="footnote"><p><sup>[<a name="ftn.id36347632" href="#id36347632" class="para">8</a>] </sup>
              The analog of function in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a>'s <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code>is renamed <code class="computeroutput"><span class="identifier">anon</span><span class="special">()</span></code>, in <a href="../.././index.html" target="_top">Boost.Assign
              2.0</a>, for several of reasons. First, <code class="computeroutput"><span class="identifier">list_of</span></code>
              evokes a particular data-structure (forward traversal) that is different
              from the actual underlying one, <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">deque</span><span class="special">&lt;&gt;</span></code> (random access). Second, in
              <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a>'s documentation, the result of <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code> is referred to as an anon-ymous container.
              The new identifier is therefore consistent with this established practice.
              Third, it avoids ambiguity resolution, in case both <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a> and <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>
              are used in the same project.
            </p></div>
<div class="footnote"><p><sup>[<a name="ftn.id36347886" href="#id36347886" class="para">9</a>] </sup>
              These new names make it clear that they forward to the <a class="link" href="put.html" title="Put">put</a>
              framework, whereas their equivalents in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a> had a broader mandate. See the word of <a class="link" href="put.html#put_range_caution">caution</a>.
            </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2004 Thorsten Ottosen, 2010 Erwann Rogard<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="arity.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a>
</div>
</body>
</html>
