<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Adaptor _chain</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Assign 2.0">
<link rel="up" href="../ug.html" title="User's guide">
<link rel="prev" href="put_range.html" title="Adaptor _put_range">
<link rel="next" href="conversion.html" title="Conversion">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="put_range.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="conversion.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" title="Adaptor _chain">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_assign_v2.ug.chain"></a><a class="link" href="chain.html" title="Adaptor _chain"> Adaptor <code class="computeroutput"><span class="identifier">_chain</span></code></a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="chain.html#boost_assign_v2.ug.chain.synopsis">Synopsis</a></span></dt>
<dt><span class="section"><a href="chain.html#boost_assign_v2.ug.chain.usage">Usage</a></span></dt>
</dl></div>
<div class="section" title="Synopsis">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.chain.synopsis"></a><a class="link" href="chain.html#boost_assign_v2.ug.chain.synopsis" title="Synopsis">Synopsis</a>
</h4></div></div></div>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Call
                  </p>
                </th>
<th>
                  <p>
                    Result
                  </p>
                </th>
</tr></thead>
<tbody><tr>
<td>
                  <p>
                    <code class="computeroutput">r1 <span class="special">|</span> <span class="identifier">adaptor</span><span class="special">::</span><span class="identifier">_chain</span><span class="special">(</span> r2 <span class="special">)</span></code>
                  </p>
                </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="keyword">typename</span> <span class="identifier">result_of</span><span class="special">::</span><span class="identifier">chain</span><span class="special">&lt;</span>R1<span class="special">,</span>R2<span class="special">&gt;::</span><span class="identifier">type</span></code>
                  </p>
                </td>
</tr></tbody>
</table></div>
</div>
<div class="section" title="Usage">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.chain.usage"></a><a class="link" href="chain.html#boost_assign_v2.ug.chain.usage" title="Usage">Usage</a>
</h4></div></div></div>
<p>
          Adaptor <code class="computeroutput"><span class="identifier">_chain</span></code> is an outgrowth
          of a similar functionality that appeared in the beta version of <a href="http://www.boost.org/doc/libs/release/libs/range/index.html" target="_top">Boost.RangeEx</a>
          that maps two ranges into their union. It is composable, as illustrated
          below:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">array</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="number">1</span><span class="special">&gt;</span> <span class="identifier">cont1_</span><span class="special">;</span> <span class="identifier">cont1_</span> <span class="identifier">cont1</span><span class="special">;</span> <span class="identifier">cont1</span><span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">x</span><span class="special">;</span> 
<span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">list</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont3_</span><span class="special">;</span> <span class="identifier">cont3_</span> <span class="identifier">cont3</span><span class="special">;</span> <span class="identifier">cont3</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> <span class="identifier">z</span> <span class="special">);</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="keyword">namespace</span> <span class="identifier">ns</span> <span class="special">=</span> <span class="identifier">ref</span><span class="special">::</span><span class="identifier">assign_copy</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span>
    <span class="identifier">cont1</span> <span class="special">|</span> <span class="identifier">_chain</span><span class="special">(</span> <span class="identifier">ns</span><span class="special">::</span><span class="identifier">csv_anon</span><span class="special">(</span> <span class="identifier">y</span> <span class="special">)</span> <span class="special">)</span> <span class="special">|</span> <span class="identifier">_chain</span><span class="special">(</span> <span class="identifier">cont3</span> <span class="special">),</span>
    <span class="identifier">printer</span><span class="special">(</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">)</span>
<span class="special">);</span>
<span class="comment">// outputs (1,0)(NULL,0)(1,5)
</span></pre>
<p>
          </p>
<p>
          Adaptor <code class="computeroutput"><span class="identifier">_chain</span></code> has the
          special property that it is lvalue preserving. Let us explain. An anonymous
          container of references, by definition (anonymous means constructed in
          place), is an rvalue. The references themselves, however, may be lvalue.
          Two chained ranges, either of which is passed as an rvalue, but both of
          which hold lvalues, is a range whose references are lvalues. Let us now
          illustrate this:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="identifier">T</span> <span class="identifier">y1</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">vec_</span><span class="special">;</span> <span class="identifier">vec_</span> <span class="identifier">vec</span><span class="special">(</span> <span class="number">3</span><span class="special">,</span> <span class="identifier">y</span> <span class="special">);</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">copy</span><span class="special">(</span>
    <span class="identifier">vec</span><span class="special">,</span>
    <span class="identifier">boost</span><span class="special">::</span><span class="identifier">begin</span><span class="special">(</span>
        <span class="identifier">cont1</span> <span class="comment">/* lvalue */</span> <span class="special">|</span> <span class="identifier">_chain</span><span class="special">(</span> 
            <span class="identifier">ns</span><span class="special">::</span><span class="identifier">csv_anon</span><span class="special">(</span> <span class="identifier">y1</span> <span class="comment">/* lvalue */</span> <span class="special">)</span> <span class="comment">/* rvalue */</span>
        <span class="special">)</span> <span class="special">|</span> <span class="identifier">_chain</span><span class="special">(</span> <span class="identifier">cont3</span> <span class="comment">/* lvalue */</span> <span class="special">)</span>
    <span class="special">)</span>
<span class="special">);</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">cont1</span><span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">==</span> <span class="identifier">y</span> <span class="special">);</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">y1</span> <span class="special">==</span> <span class="identifier">y</span> <span class="special">);</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">cont3</span><span class="special">.</span><span class="identifier">front</span><span class="special">()</span> <span class="special">==</span> <span class="identifier">y1</span> <span class="special">);</span>
</pre>
<p>
          </p>
<p>
        </p>
</div>
<p>
        Also see the section on conversion.
      </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2004 Thorsten Ottosen, 2010 Erwann Rogard<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="put_range.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="conversion.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
