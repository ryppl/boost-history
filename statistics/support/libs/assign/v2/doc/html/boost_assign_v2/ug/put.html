<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Put</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Assign 2.0">
<link rel="up" href="../ug.html" title="User's guide">
<link rel="prev" href="example_background.html" title="Examples' background">
<link rel="next" href="anon_cont.html" title="Anonymous container of values">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="example_background.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="anon_cont.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_assign_v2.ug.put"></a><a class="link" href="put.html" title="Put">Put </a>
</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.usage">Basic usage</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier">Standard modifier</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.auto">Automatic
          deduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.user">User specified</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.custom">Customization
          </a></span></dt>
</dl></dd>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward">Argument forwarding</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.introduction">Introduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.auto">Automatic
          deduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.user">User specified</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ptr_container">Pointer container</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext">Extended functionality</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.repeat"><code class="computeroutput">_repeat</code></a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.incr_looup"><code class="computeroutput">_incr_lookup</code>
          </a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.quiz">Quiz</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.custom">Customization</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.put_range">Adaptor <code class="computeroutput">put_range</code></a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.put_convert">Adaptor <code class="computeroutput">put_convert</code></a></span></dt>
</dl></div>
<p>
        This section relies on notational conventions laid out in section <a class="link" href="notation.html" title="Notation">Notation</a>.
        Examples of this section assume preceding code laid out in section <a class="link" href="example_background.html" title="Examples' background">Examples' background</a>.
      </p>
<a name="boost_assign_v2.ug.put.header"></a><h5>
<a name="id36333609"></a>
        <a class="link" href="put.html#boost_assign_v2.ug.put.header">Header</a>
      </h5>
<p>
        Unless explicitly specified, the relevant header, throughout this section,
        is
      </p>
<p>
        
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><a href="../../../../../../../boost/assign/v2/put.hpp" target="_top">boost/assign/v2/put.hpp</a><span class="special">&gt;</span>
</pre>
<p>
      </p>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.usage"></a><a class="link" href="put.html#boost_assign_v2.ug.put.usage" title="Basic usage">Basic usage</a>
</h4></div></div></div>
<a name="boost_assign_v2.ug.put.usage.synopsis"></a><h6>
<a name="id36333663"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.usage.synopsis">Synopsis</a>
        </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                </th>
<th>
                  <p>
                    Result
                  </p>
                </th>
<th>
                  <p>
                    Side effect
                  </p>
                </th>
</tr></thead>
<tbody><tr>
<td>
                  <p>
                    <code class="computeroutput">cont <span class="special">|</span> <span class="identifier">adaptor</span><span class="special">::</span>_csv_put<span class="special">(</span>
                    t<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>t<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]</span> <span class="special">)</span></code>
                  </p>
                </td>
<td>
                  <p>
                    A reference to <code class="computeroutput">cont</code>
                  </p>
                </td>
<td>
                  <p>
                    Puts the elements in <code class="computeroutput">cont</code>
                  </p>
                </td>
</tr></tbody>
</table></div>
<p>
          Operator <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>
          in conjunction with a keyword defined in <code class="computeroutput"><span class="keyword">namespace</span></code>
          <code class="computeroutput"><span class="identifier">adaptor</span></code>, is an idiom,
          <span class="emphasis"><em>adaptor</em></span>, that is borrowed from <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors.html" target="_top">range
          adaptors</a>. In particular, they are <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors/introduction.html#range.reference.adaptors.introduction.composition_of_adaptors" target="_top">composable</a>.
          For our purpose, however, an adaptor modifies the state of a container
          before returning it.
        </p>
<p>
          In the right hand side of <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>, the result of <code class="computeroutput">_csv_put<span class="special">()</span></code>
          internally keeps references to its arguments so as to avoid any storage
          overhead.
        </p>
<a name="boost_assign_v2.ug.put.usage.example"></a><h6>
<a name="id36333888"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.usage.example">Example</a>
        </h6>
<a name="example_put_basic_usage"></a><p>
          To put elements, <code class="computeroutput">x</code>, <code class="computeroutput">y</code> and <code class="computeroutput">z</code> into
          a container, and print them,
        </p>
<p>
          
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_csv_put</span><span class="special">(</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">y</span><span class="special">,</span> <span class="identifier">z</span> <span class="special">),</span> <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> <span class="special">);</span>
<span class="comment">//outputs (1,0)(NULL,0)(1,5)
</span></pre>
<p>
        </p>
<p>
          The statement inside the first argument of <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span></code>
          is equivalent, for this particular container type, to 
</p>
<pre class="programlisting">cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> x <span class="special">);</span>
cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> y <span class="special">);</span>
cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> z <span class="special">);</span>
</pre>
<p>
          and returns a reference to <code class="computeroutput"><span class="identifier">cont</span></code>.
        </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.std_modifier"></a><a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier" title="Standard modifier">Standard modifier</a>
</h4></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.auto">Automatic
          deduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.user">User specified</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.std_modifier.custom">Customization
          </a></span></dt>
</dl></div>
<p>
          A container has one or more member functions to alter its state. In this
          library, we concern ourselves only with inserting elements, and designate
          the relevant interface a <span class="emphasis"><em>standard modifier</em></span>.
        </p>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.std_modifier.auto"></a><a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.auto" title="Automatic deduction">Automatic
          deduction</a>
</h5></div></div></div>
<p>
            In the <a class="link" href="put.html#example_put_basic_usage">example</a> illustrating
            <a class="link" href="put.html#boost_assign_v2.ug.put.usage" title="Basic usage">basic usage</a> we encountered
            a <a href="http://www.sgi.com/tech/stl/Sequence.html" target="_top">sequence container</a>,
            <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;&gt;</span></code>,
            but the same adaptor works seamlessly with <a href="http://www.sgi.com/tech/stl/AssociativeContainer.html" target="_top">associative</a>
            and <a href="http://flylib.com/books/en/2.674.1.106/1/" target="_top">adapter</a>
            <sup>[<a name="id36334257" href="#ftn.id36334257" class="footnote">4</a>]</sup> <a href="http://en.wikipedia.org/wiki/Standard_Template_Library" target="_top">STL</a>
            containers, and the static array <a href="http://www.boost.org/doc/libs/release/doc/html/array.html" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">array</span><span class="special">&lt;&gt;</span></code></a>.
          </p>
<a name="example_put_auto_map"></a><p>
            The mechanism that permits this uniform interface across varied container
            types is the selection, at compile time, of an appropriate standard modifier
            based on the destination container's traits. In this example,
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt;</span><span class="identifier">S</span><span class="special">,</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">cont_</span><span class="special">::</span><span class="identifier">value_type</span> <span class="identifier">key_data_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> 
    <span class="special">(</span>
        <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_csv_put</span><span class="special">(</span> 
            <span class="identifier">key_data_</span><span class="special">(</span><span class="identifier">key_z</span><span class="special">,</span> <span class="identifier">z</span><span class="special">),</span> 
            <span class="identifier">key_data_</span><span class="special">(</span><span class="identifier">key_y</span><span class="special">,</span> <span class="identifier">y</span><span class="special">),</span> 
            <span class="identifier">key_data_</span><span class="special">(</span><span class="identifier">key_x</span><span class="special">,</span> <span class="identifier">x</span><span class="special">)</span>
        <span class="special">)</span>
    <span class="special">)[</span><span class="identifier">key_x</span><span class="special">]</span> <span class="special">==</span> <span class="identifier">x</span>
<span class="special">);</span>
</pre>
<p>
          </p>
<p>
            the library determines that it is appropriate to forward to <code class="computeroutput">cont<span class="special">.</span><span class="identifier">insert</span><span class="special">()</span></code>.
          </p>
<p>
            The repetition of <code class="computeroutput"><span class="identifier">key_data_</span><span class="special">()</span></code> is not very elegant. There is a better
            solution, but it would be outside of the topic of this section and therefore
            it will be shown in a subsequent <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.auto" title="Automatic deduction">section</a>.
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.std_modifier.user"></a><a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.user" title="User specified">User specified</a>
</h5></div></div></div>
<p>
            Rather than leaving the library to <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.auto" title="Automatic deduction">automatically
            deduce</a> a standard modifier at compile time, the user can specify
            it explicitly by passing a keyword <span class="emphasis"><em>parameter</em></span>, <code class="computeroutput">_p</code>,
            with <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code>.
          </p>
<a name="boost_assign_v2.ug.put.std_modifier.user.synopsis"></a><h6>
<a name="id36334692"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.user.synopsis">Synopsis</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Expression
                    </p>
                  </th>
<th>
                    <p>
                      Result
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">adaptor</span><span class="special">::</span>_csv_put
                      <span class="special">%</span> _p</code>
                    </p>
                  </td>
<td>
                    <p>
                      An adaptor whose standard modifier has a different type and/or
                      state
                    </p>
                  </td>
</tr></tbody>
</table></div>
<a name="boost_assign_v2.ug.put.std_modifier.user.parameters"></a><h6>
<a name="id36334778"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.user.parameters">Parameters</a>
          </h6>
<p>
            Here's a catalog of the keywords that control standard modifiers, and
            the container categories under which they are the default.
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Keyword
                    </p>
                  </th>
<th>
                    <p>
                      Implementation
                    </p>
                  </th>
<th>
                    <p>
                      Default
                    </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_push_back</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span> t <span class="special">)</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <a href="http://www.sgi.com/tech/stl/Sequence.html" target="_top">Sequence</a>
                    </p>
                  </td>
</tr>
<tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_push_front</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">.</span><span class="identifier">push_front</span><span class="special">(</span> t <span class="special">)</span></code>
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_push</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">.</span><span class="identifier">push</span><span class="special">(</span> t <span class="special">)</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <a href="http://flylib.com/books/en/2.674.1.106/1/" target="_top">Adapters</a>
                    </p>
                  </td>
</tr>
<tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_at_next</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">[</span> i<span class="special">++</span>
                      <span class="special">]</span> <span class="special">=</span>
                      t </code>
                    </p>
                  </td>
<td>
                    <p>
                      <a href="http://www.boost.org/doc/libs/release/doc/html/array.html" target="_top">Static
                      arrays</a>
                    </p>
                  </td>
</tr>
<tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_insert</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">.</span><span class="identifier">insert</span><span class="special">(</span> t <span class="special">)</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <a href="http://www.sgi.com/tech/stl/AssociativeContainer.html" target="_top">Associative</a>
                    </p>
                  </td>
</tr>
</tbody>
</table></div>
<p>
            where index <code class="computeroutput">i</code> is initialized to zero.
          </p>
<a name="boost_assign_v2.ug.put.std_modifier.user.example"></a><h6>
<a name="id36335131"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.user.example">Example</a>
          </h6>
<p>
            The default standard modifier of <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">list</span><span class="special">&lt;&gt;</span></code> is <code class="computeroutput"><span class="identifier">push_back</span><span class="special">()</span></code>. In this example, it is changed to
            <code class="computeroutput"><span class="identifier">push_front</span><span class="special">()</span></code>:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">list</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span><span class="identifier">_csv_put</span> <span class="special">%</span> <span class="identifier">_push_front</span><span class="special">)(</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">y</span><span class="special">,</span> <span class="identifier">z</span> <span class="special">),</span> 
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
<span class="comment">//outputs (1,5)(NULL,0)(1,0)
</span></pre>
<p>
          </p>
<p>
            Make sure to keep the statement involving <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code> in between brackets, as shown above.
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.std_modifier.custom"></a><a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.custom" title="Customization">Customization
          </a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.std_modifier.custom.header"></a><h6>
<a name="id36335407"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.custom.header">Header</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><a href="../../../../../../../boost/assign/v2/put/modifier/xxx.hpp" target="_top">boost/assign/v2/put/modifier/xxx.hpp</a><span class="special">&gt;</span>
</pre>
<p>
          </p>
<a name="boost_assign_v2.ug.put.std_modifier.custom.usage"></a><h6>
<a name="id36335450"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.custom.usage">Usage</a>
          </h6>
<p>
            Suppose the user has defined his/her own container and that <code class="computeroutput"><span class="identifier">baz</span><span class="special">()</span></code>
            is a member function for putting an element in it: 
</p>
<pre class="programlisting"><span class="keyword">struct</span> <span class="identifier">bar</span><span class="special">{</span> <span class="keyword">void</span> <span class="identifier">baz</span><span class="special">(</span><span class="keyword">int</span><span class="special">);</span> <span class="special">};</span>
</pre>
<p>
            Expanding 
</p>
<pre class="programlisting"><span class="identifier">BOOST_ASSIGN_V2_PUT_MODIFIER_XXX</span><span class="special">(</span><span class="identifier">baz</span><span class="special">)</span>
</pre>
<p>
            creates a keyword <code class="computeroutput"><span class="identifier">_baz</span></code>,
            such that the following statement 
</p>
<pre class="programlisting"><span class="identifier">bar</span> cont<span class="special">;</span>
cont <span class="special">|</span> <span class="special">(</span>_csv_put <span class="special">%</span> <span class="identifier">_baz</span><span class="special">)(</span> x<span class="special">,</span> y<span class="special">,</span> z <span class="special">);</span>	
</pre>
<p>
            forwards each of <code class="computeroutput">x</code>, <code class="computeroutput">y</code>, and <code class="computeroutput">z</code> to
            <code class="computeroutput">cont<span class="special">.</span><span class="identifier">baz</span><span class="special">()</span></code>.
          </p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.arg_forward"></a><a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward" title="Argument forwarding">Argument forwarding</a>
</h4></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.introduction">Introduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.auto">Automatic
          deduction</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.arg_forward.user">User specified</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.arg_forward.introduction"></a><a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.introduction" title="Introduction">Introduction</a>
</h5></div></div></div>
<a name="example_put_arg_forwarding_in_place"></a><p>
            The adaptor <code class="computeroutput">_csv_put</code>, exclusively used so far, is fine when
            the objects to be put into a container are already constructed. Otherwise,
            we have to construct them in place, as we show in the following example,
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_csv_put</span><span class="special">(</span> <span class="identifier">foo</span><span class="special">(</span> <span class="identifier">a</span> <span class="special">),</span> <span class="identifier">foo</span><span class="special">(),</span> <span class="identifier">foo</span><span class="special">(</span> <span class="identifier">a</span><span class="special">,</span> <span class="identifier">b</span> <span class="special">)</span> <span class="special">),</span> 
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
</pre>
<p>
          </p>
<p>
            which, in terms of our <a class="link" href="notation.html" title="Notation">notation</a>,
            corresponds to <code class="literal">n = 3</code>, <code class="literal">k[0] = 1</code>,
            <code class="literal">k[1] = 0</code>, and <code class="literal">k[2] = 2</code>,
          </p>
<p>
            In this section we introduce an alternative interface that achieves the
            same result, but in a compact fashion. Echoing the structure of the section
            <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier" title="Standard modifier">Standard modifier</a>,
            our next two sections describe the implementations that are automatically
            deduced and user specified, respectively.
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.arg_forward.auto"></a><a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.auto" title="Automatic deduction">Automatic
          deduction</a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.arg_forward.auto.synopsis"></a><h6>
<a name="id36335930"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.auto.synopsis">Synopsis</a>
          </h6>
<p>
            In terms of our <a class="link" href="notation.html" title="Notation">notation</a>,
            for <code class="literal">n = 1</code>,
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Expression
                    </p>
                  </th>
<th>
                    <p>
                      Result
                    </p>
                  </th>
<th>
                    <p>
                      Side effect
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      <code class="computeroutput">cont <span class="special">|</span> <span class="identifier">adaptor</span><span class="special">::</span>_put<span class="special">(</span>
                      arg<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>arg<span class="special">[</span>k<span class="special">])</span>
                      </code>
                    </p>
                  </td>
<td>
                    <p>
                      A reference to <code class="computeroutput">cont</code>
                    </p>
                  </td>
<td>
                    <p>
                      Forwards to <code class="computeroutput">T<span class="special">(</span>arg<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>arg<span class="special">[</span>k<span class="special">])</span></code>
                      and passes the result to the standard modifier
                    </p>
                  </td>
</tr></tbody>
</table></div>
<p>
            The appropriate type, <code class="computeroutput">T</code>, is deduced at compile time, from
            the type of destination container, <code class="computeroutput">cont</code>. The above extends
            to arbitrary <code class="computeroutput">n</code> as follows: 
</p>
<pre class="programlisting">cont <span class="special">|</span> _put<span class="special">(</span>arg<span class="special">[</span><span class="number">0</span><span class="special">][</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>arg<span class="special">[</span><span class="number">0</span><span class="special">][</span>k<span class="special">[</span><span class="number">0</span><span class="special">]])...(</span>arg<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">][</span><span class="number">0</span><span class="special">],</span> <span class="special">....,</span>arg<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">][</span>k<span class="special">[</span>n<span class="special">-</span><span class="number">1</span><span class="special">]])</span>
</pre>
<p>
          </p>
<a name="boost_assign_v2.ug.put.arg_forward.auto.examples"></a><h6>
<a name="id36336273"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.auto.examples">Examples</a>
          </h6>
<a name="example_put_arg_forwarding_auto"></a><p>
            We now revisit the <a class="link" href="put.html#example_put_arg_forwarding_in_place">example</a>
            motivating this section,
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_put</span><span class="special">(</span> <span class="identifier">a</span> <span class="special">)()(</span> <span class="identifier">a</span><span class="special">,</span> <span class="identifier">b</span> <span class="special">),</span> 
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
</pre>
<p>
          </p>
<a name="example_put_arg_forwarding_auto_map"></a><p>
            In an earlier <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.auto" title="Automatic deduction">section</a>,
            we had already pointed that filling <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt;&gt;</span></code> with <code class="computeroutput">_csv_put</code> was
            clumsy, and now continue that <a class="link" href="put.html#example_put_auto_map">example</a>
            to show the better approach:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="identifier">cont</span><span class="special">.</span><span class="identifier">clear</span><span class="special">();</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> 
    <span class="special">(</span> <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_put</span> <span class="special">(</span><span class="identifier">key_z</span><span class="special">,</span> <span class="identifier">z</span><span class="special">)(</span><span class="identifier">key_y</span><span class="special">,</span> <span class="identifier">y</span><span class="special">)(</span><span class="identifier">key_x</span><span class="special">,</span> <span class="identifier">x</span><span class="special">)</span> <span class="special">)[</span><span class="identifier">key_x</span><span class="special">]</span> <span class="special">==</span> <span class="identifier">x</span>
<span class="special">);</span>
</pre>
<p>
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.arg_forward.user"></a><a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.user" title="User specified">User specified</a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.arg_forward.user.synopsis"></a><h6>
<a name="id36336662"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.user.synopsis">Synopsis</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Expression
                    </p>
                  </th>
<th>
                    <p>
                      Result
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">adaptor</span><span class="special">::</span>_put
                      <span class="special">%</span> <span class="special">(</span>_fun
                      <span class="special">=</span> f<span class="special">)</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      An adaptor whose embedded functor is <code class="computeroutput">f</code>
                    </p>
                  </td>
</tr></tbody>
</table></div>
<a name="boost_assign_v2.ug.put.arg_forward.user.examples"></a><h6>
<a name="id36336766"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.user.examples">Examples</a>
          </h6>
<a name="example_put_arg_forwarding_user"></a><p>
            As a variation on the <a class="link" href="put.html#example_put_arg_forwarding_auto">example</a>
            of the previous section,
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">int</span> <span class="identifier">a0</span> <span class="special">=</span> <span class="special">-</span><span class="number">1</span><span class="special">,</span> <span class="identifier">a1</span> <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="identifier">a2</span> <span class="special">=</span> <span class="number">1</span><span class="special">;</span>
<span class="identifier">cont</span><span class="special">.</span><span class="identifier">clear</span><span class="special">();</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span>
        <span class="identifier">_put</span> <span class="special">%</span> <span class="special">(</span> <span class="identifier">_fun</span> <span class="special">=</span> <span class="identifier">make_foo</span><span class="special">()</span> <span class="special">)</span>
    <span class="special">)(</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">b</span> <span class="special">)(</span> <span class="identifier">a1</span><span class="special">,</span> <span class="identifier">b</span> <span class="special">)(</span> <span class="identifier">a2</span><span class="special">,</span> <span class="identifier">b</span> <span class="special">),</span>
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span>
<span class="special">);</span>
<span class="comment">//outputs (-1,5)(0,5)(1,5)
</span></pre>
<p>
          </p>
<a name="example_put_arg_forwarding_user_bind"></a><p>
            Users that are familiar with the <a href="http://www.boost.org/doc/libs/release/doc/html/lambda.html" target="_top">lambda</a>
            library will have recognized that the repetition of <code class="computeroutput"><span class="identifier">b</span></code>
            would be better avoided thanks to a binding functor:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="identifier">cont</span><span class="special">.</span><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">lambda</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span>
        <span class="identifier">_csv_put</span> <span class="special">%</span> <span class="special">(</span><span class="identifier">_fun</span> <span class="special">=</span> <span class="identifier">bind</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;(</span> <span class="identifier">make_foo</span><span class="special">(),</span> <span class="identifier">_1</span><span class="special">,</span> <span class="identifier">b</span><span class="special">)</span>  <span class="special">)</span>
    <span class="special">)(</span><span class="identifier">a0</span><span class="special">,</span> <span class="identifier">a1</span><span class="special">,</span> <span class="identifier">a2</span><span class="special">),</span> 
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
</pre>
<p>
          </p>
<p>
            Notice that since each argument in the sequence is now unary, we were
            able to revert to using <code class="computeroutput">_csv_put</code>, and did so only because
            it's more elegant that way.
          </p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.ptr_container"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ptr_container" title="Pointer container">Pointer container</a>
</h4></div></div></div>
<p>
          The same functionality as that for STL containers works for <a href="http://www.boost.org/doc/libs/release/libs/ptr_container/doc/ptr_container.html" target="_top">pointer
          containers</a>, but the side effect is a bit different. For example,
          consider,
        </p>
<p>
          
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">ptr_vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span> <span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="identifier">_csv_put</span><span class="special">(</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">y</span><span class="special">,</span> <span class="identifier">z</span> <span class="special">),</span> 
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
</pre>
<p>
        </p>
<p>
          Copies of <code class="computeroutput">x</code>, <code class="computeroutput">y</code> and <code class="computeroutput">z</code> are allocated
          on the heap, and their pointers put into <code class="computeroutput"><span class="identifier">cont</span></code>,
          using <code class="computeroutput"><span class="identifier">push_back</span><span class="special">()</span></code>,
          in this case. Just as with other categories of containers, we can override
          both the modifier and the argument forwarding mechanism, by passign the
          appropriate parameters with <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code>.
        </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.ext"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ext" title="Extended functionality">Extended functionality</a>
</h4></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.repeat"><code class="computeroutput">_repeat</code></a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.incr_looup"><code class="computeroutput">_incr_lookup</code>
          </a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.quiz">Quiz</a></span></dt>
<dt><span class="section"><a href="put.html#boost_assign_v2.ug.put.ext.custom">Customization</a></span></dt>
</dl></div>
<p>
          A <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier" title="Standard modifier">standard modifier</a>,
          as we recall, only passes the result of a functor to a particular member
          function of the destination container. Either of the <a class="link" href="put.html#boost_assign_v2.ug.put.arg_forward.user" title="User specified">functor</a>
          and the <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.user" title="User specified">standard
          modifier</a> can be user specified by calling the respective appropriate
          keyword with <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code>.
          The latter is composable, such that the functor keyword <code class="computeroutput">_fun</code>,
          an arbitrary number of parameters, <code class="literal">m</code>, can all be successively
          passed to the implementation:
        </p>
<p>
          
</p>
<pre class="programlisting"><span class="identifier">adaptor</span><span class="special">::</span>_put <span class="special">%</span> <span class="special">(</span> _fun <span class="special">=</span> f <span class="special">)</span> <span class="special">%</span> _p<span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">...</span> <span class="special">%</span> _p<span class="special">[</span>m<span class="special">-</span><span class="number">1</span><span class="special">]</span>
</pre>
<p>
        </p>
<p>
          A non-standard modifier, the topic of this section, is one that executes
          a more complicated task than a standard modifier does.
        </p>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.ext.repeat"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ext.repeat" title="_repeat"><code class="computeroutput">_repeat</code></a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.ext.repeat.header"></a><h6>
<a name="id36337685"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.repeat.header">Header</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><a href="../../../../../../../boost/assign/v2/put/modifier/ext/repeat.hpp" target="_top">boost/assign/v2/put/modifier/ext/repeat.hpp</a><span class="special">&gt;</span>
</pre>
<p>
          </p>
<a name="boost_assign_v2.ug.put.ext.repeat.synopsis"></a><h6>
<a name="id36337725"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.repeat.synopsis">Synopsis</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Parameter expression
                    </p>
                  </th>
<th>
                    <p>
                      Implementation
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_repeat</span> <span class="special">=</span>
                      <span class="identifier">n</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">m</span> <span class="special">=</span>
                      <span class="identifier">n</span><span class="special">;</span>
                      <span class="keyword">while</span><span class="special">(--</span><span class="identifier">m</span><span class="special">)</span>
                      <em class="replaceable"><code>implementation-defined</code></em></code>
                    </p>
                  </td>
</tr></tbody>
</table></div>
<p>
            where <code class="computeroutput"><em class="replaceable"><code>implementation-defined</code></em></code> is the implementation prior to passing the parameter.
          </p>
<a name="boost_assign_v2.ug.put.ext.repeat.example"></a><h6>
<a name="id36337860"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.repeat.example">Example</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span> <span class="identifier">_csv_put</span> <span class="special">%</span> <span class="special">(</span> <span class="identifier">_repeat</span> <span class="special">=</span> <span class="number">2</span>  <span class="special">)</span> <span class="special">)(</span> <span class="identifier">x</span> <span class="special">),</span>
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
<span class="comment">// outputs (1,0)(1,0)
</span></pre>
<p>
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.ext.incr_looup"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ext.incr_looup" title="_incr_lookup"><code class="computeroutput">_incr_lookup</code>
          </a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.ext.incr_looup.header"></a><h6>
<a name="id36338078"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.incr_looup.header">Header</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><a href="../../../../../../../boost/assign/v2/put/modifier/ext/incr_lookup.hpp" target="_top">boost/assign/v2/put/modifier/ext/incr_lookup.hpp</a><span class="special">&gt;</span>
</pre>
<p>
          </p>
<a name="boost_assign_v2.ug.put.ext.incr_looup.synopsis"></a><h6>
<a name="id36338118"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.incr_looup.synopsis">Synopsis</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Parameter expression
                    </p>
                  </th>
<th>
                    <p>
                      Implementation
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      <code class="computeroutput"><span class="identifier">_incr_lookup</span> <span class="special">=</span> <span class="identifier">n</span></code>
                    </p>
                  </td>
<td>
                    <p>
                      <code class="computeroutput">cont<span class="special">[</span> s <span class="special">]</span>
                      <span class="special">+=</span> <span class="identifier">n</span></code>
                    </p>
                  </td>
</tr></tbody>
</table></div>
<a name="boost_assign_v2.ug.put.ext.incr_looup.example"></a><h6>
<a name="id36338224"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.incr_looup.example">Example</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt;</span><span class="identifier">S</span><span class="special">,</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span>
    <span class="identifier">_csv_put</span> <span class="special">%</span> <span class="special">(</span> <span class="identifier">_incr_lookup</span> <span class="special">=</span> <span class="number">2</span> <span class="special">)</span> 
<span class="special">)(</span> <span class="identifier">key_z</span><span class="special">,</span> <span class="identifier">key_x</span><span class="special">,</span> <span class="identifier">key_y</span> <span class="special">);</span>
<span class="identifier">os</span> 
    <span class="special">&lt;&lt;</span> <span class="char">'('</span>
    <span class="special">&lt;&lt;</span> <span class="identifier">cont</span><span class="special">[</span><span class="identifier">key_x</span><span class="special">]</span> <span class="special">&lt;&lt;</span> <span class="char">','</span> 
    <span class="special">&lt;&lt;</span> <span class="identifier">cont</span><span class="special">[</span><span class="identifier">key_y</span><span class="special">]</span> <span class="special">&lt;&lt;</span> <span class="char">','</span> 
    <span class="special">&lt;&lt;</span> <span class="identifier">cont</span><span class="special">[</span><span class="identifier">key_z</span><span class="special">]</span> <span class="special">&lt;&lt;</span> <span class="char">')'</span><span class="special">;</span>
<span class="comment">// outputs (2,2,2)
</span></pre>
<p>
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.ext.quiz"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ext.quiz" title="Quiz">Quiz</a>
</h5></div></div></div>
<p>
            This section gives the reader a chance to evaluate his/her knowledge
            of the current <a class="link" href="put.html" title="Put">framework</a>,
            up to this point.
          </p>
<p>
            Question: What will be output from the code below? Shown in the comments
            are the outputs of the individual values, in the order in which they
            are passed to the adaptor. For example, the output of <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> x</code> is <code class="literal">(1,0)</code>.
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">list</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">cont_</span><span class="special">;</span>	
<span class="identifier">cont_</span> <span class="identifier">cont</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">lambda</span><span class="special">;</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">for_each</span><span class="special">(</span> 
    <span class="identifier">cont</span> <span class="special">|</span> <span class="special">(</span> <span class="identifier">_csv_put</span> <span class="special">)(</span> <span class="identifier">x</span> <span class="special">)</span> <span class="comment">/*(1,0)*/</span> <span class="special">|</span> <span class="special">(</span> 
        <span class="identifier">_put</span> <span class="special">%</span> <span class="identifier">_push_front</span> <span class="special">%</span> <span class="special">(</span> <span class="identifier">_repeat</span> <span class="special">=</span> <span class="number">2</span> <span class="special">)</span> 
    <span class="special">)()(</span> <span class="identifier">b</span><span class="special">,</span> <span class="identifier">a</span> <span class="special">)</span> <span class="comment">/*(NULL,0)(5,1)*/</span> <span class="special">|</span> <span class="special">(</span> 
        <span class="identifier">_csv_put</span> <span class="special">%</span> <span class="special">(</span> <span class="identifier">_fun</span> <span class="special">=</span> <span class="identifier">bind</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;(</span> <span class="identifier">make_foo</span><span class="special">(),</span> <span class="identifier">_1</span><span class="special">,</span> <span class="identifier">b</span><span class="special">)</span> <span class="special">)</span>
    <span class="special">)(</span> <span class="identifier">a0</span><span class="special">,</span> <span class="identifier">a1</span><span class="special">,</span> <span class="identifier">a2</span> <span class="special">),</span> <span class="comment">/*(-1,5)(0,5)(1,5)*/</span>
    <span class="identifier">printer</span><span class="special">(</span><span class="identifier">os</span><span class="special">)</span> 
<span class="special">);</span>
</pre>
<p>
          </p>
<p>
            Answer:
          </p>
<p>
            
</p>
<pre class="programlisting"><span class="comment">// outputs (5,1)(5,1)(NULL,0)(NULL,0)(1,0)(-1,5)(0,5)(1,5)
</span></pre>
<p>
          </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="boost_assign_v2.ug.put.ext.custom"></a><a class="link" href="put.html#boost_assign_v2.ug.put.ext.custom" title="Customization">Customization</a>
</h5></div></div></div>
<a name="boost_assign_v2.ug.put.ext.custom.header"></a><h6>
<a name="id36338985"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.custom.header">Header</a>
          </h6>
<p>
            
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><a href="../../../../../../../boost/assign/v2/put/modifier/ext/xxx.hpp" target="_top">boost/assign/v2/put/modifier/ext/xxx.hpp</a><span class="special">&gt;</span>
</pre>
<p>
          </p>
<a name="boost_assign_v2.ug.put.ext.custom.usage"></a><h6>
<a name="id36339025"></a>
            <a class="link" href="put.html#boost_assign_v2.ug.put.ext.custom.usage">Usage</a>
          </h6>
<p>
            Suppose we want to add a keyword, <code class="computeroutput"><em class="replaceable"><code>_param</code></em></code>, to our framework, so
            that 
</p>
<pre class="programlisting">cont <span class="special">|</span> <span class="special">(</span>_put <span class="special">%</span> <em class="replaceable"><code>_param</code></em><span class="special">)(</span>arg<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">...,</span> arg<span class="special">[</span>k<span class="special">-</span><span class="number">1</span><span class="special">])</span>
</pre>
<p>
            controls the execution of <code class="computeroutput"><span class="identifier">operation</span><span class="special">|</span></code> in a specific way. We label <span class="emphasis"><em>new</em></span>
            and <span class="emphasis"><em>old</em></span> the implementations behind the execution
            of the statements above and below, 
</p>
<pre class="programlisting">cont <span class="special">|</span> _put<span class="special">(</span>arg<span class="special">[</span><span class="number">0</span><span class="special">],</span> <span class="special">...,</span> arg<span class="special">[</span>k<span class="special">-</span><span class="number">1</span><span class="special">])</span>
</pre>
<p>
            respectively, and proceed as follows:
          </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
                Create a tag : 
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">modifier_tag</span><span class="special">{</span> 
	<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">OldTag</span><span class="special">&gt;</span> <span class="keyword">struct</span> <em class="replaceable"><code>param</code></em><span class="special">;</span> 
<span class="special">}</span>
</pre>
                Here, and throughout the rest of this itemized list, we are assuming
                that the new implementation builds upon the old one. Otherwise, we
                would have declared <code class="computeroutput"><em class="replaceable"><code>param</code></em></code> without a template parameter.
              </li>
<li class="listitem">
                Pair the tag with a function type: 
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">put_parameter</span><span class="special">{</span> 
	<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">OldFun</span><span class="special">,</span><span class="keyword">typename</span> <span class="identifier">OldTag</span><span class="special">&gt;</span> 
	<span class="keyword">struct</span> <em class="replaceable"><code>param</code></em> <span class="special">:</span> pair<span class="special">&lt;</span>
		<em class="replaceable"><code>fun</code></em><span class="special">,</span>
		<span class="identifier">modifier_tag</span><span class="special">::</span><em class="replaceable"><code>param</code></em><span class="special">&lt;</span><span class="identifier">OldTag</span><span class="special">&gt;</span>
	<span class="special">&gt;;</span> 
<span class="special">}</span>
</pre>
                If <code class="computeroutput"><em class="replaceable"><code>fun</code></em></code> is set to <code class="computeroutput"><span class="identifier">OldFun</span></code>,
                the implementation is instantiated by copying the old function. Otherwise,
                the default constructor of <code class="computeroutput"><em class="replaceable"><code>fun</code></em></code> is called.
              </li>
<li class="listitem">
                Specialize <code class="computeroutput">modifier<span class="special">&lt;&gt;</span></code>
                on the tag created in step 1: 
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">put_aux</span><span class="special">{</span>
	<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">OldTag</span><span class="special">&gt;</span>
	<span class="keyword">struct</span> modifier<span class="special">&lt;</span><em class="replaceable"><code>param</code></em><span class="special">&lt;</span><span class="identifier">OldTag</span><span class="special">&gt;</span> <span class="special">&gt;</span>
	<span class="special">{</span>
		<span class="comment">// Constructors as needed
</span>
		<span class="comment">// Provide an implementation
</span>		<span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> Cont<span class="special">,</span><span class="keyword">typename</span> T<span class="special">&gt;</span> 
		<span class="keyword">void</span> <span class="identifier">impl</span><span class="special">(</span>Cont<span class="special">&amp;</span> cont<span class="special">,</span> T<span class="special">&amp;</span> t<span class="special">)</span><span class="keyword">const</span><span class="special">;</span> 

	<span class="special">};</span>
<span class="special">}</span>
</pre>
                Optionally, member function <code class="computeroutput"><span class="identifier">impl</span><span class="special">()</span></code> can be overloaded in its second
                argument to take, instead, a <code class="computeroutput">T<span class="special">*</span></code>,
                which is needed if <code class="computeroutput">Cont</code> is a <a href="http://www.boost.org/doc/libs/release/libs/ptr_container/doc/ptr_container.html" target="_top">pointer
                container</a>.
              </li>
<li class="listitem">
                Create a class that the user can use to specify desired customization,
                
<pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">put_aux</span><span class="special">{</span>
	<span class="keyword">struct</span> <em class="replaceable"><code>param</code></em><span class="special">{</span>
		<span class="comment">// As needed, a constructor that stores a runtime value
</span>		<span class="comment">// As needed, operator= with which the user interacts to pass
</span>		<span class="comment">// a runtime value.
</span>		<em class="replaceable"><code>implementation-defined</code></em> <span class="identifier">get</span><span class="special">();</span> <span class="comment">// Forwarded to modifier&lt;&gt;'s constructor
</span>	<span class="special">};</span>
</pre>
              </li>
<li class="listitem">
                Expand the macro 
<pre class="programlisting">BOOST_ASSIGN_V2_PUT_MODIFIER_EXT_XXX<span class="special">(</span><em class="replaceable"><code>param</code></em><span class="special">)</span>
</pre>
              </li>
</ol></div>
<p>
            The last step will create keyword <code class="computeroutput"><em class="replaceable"><code>_param</code></em></code> with the desired properties.
            This keyword has type <code class="computeroutput"><span class="identifier">put_aux</span><span class="special">::</span><em class="replaceable"><code>param</code></em></code>, from step 4, the interface of which
            is that which the user interacts with, for example, to specify a runtime
            variable.
          </p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.put_range"></a><a class="link" href="put.html#boost_assign_v2.ug.put.put_range" title="Adaptor put_range">Adaptor <code class="computeroutput">put_range</code></a>
</h4></div></div></div>
<a name="boost_assign_v2.ug.put.put_range.description"></a><h6>
<a name="id36339757"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.put_range.description">Description</a>
        </h6>
<p>
          Adaptor <code class="computeroutput">put_range</code> takes elements from a range and puts them
          in a container.
        </p>
<a name="boost_assign_v2.ug.put.put_range.synopsis"></a><h6>
<a name="id36339780"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.put_range.synopsis">Synopsis</a>
        </h6>
<p>
          Assuming <code class="computeroutput">from</code> is a <a href="http://www.boost.org/doc/libs/1_43_0/libs/range/doc/html/range/concepts.html" target="_top">range</a>
          whose dereferenced values are <code class="computeroutput">t<span class="special">[</span><span class="number">0</span><span class="special">]</span></code>...<code class="computeroutput">t<span class="special">[</span>n<span class="special">]</span></code>,
        </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                </th>
<th>
                  <p>
                    Result
                  </p>
                </th>
<th>
                  <p>
                    Equivalent expression
                  </p>
                </th>
</tr></thead>
<tbody><tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">to <span class="special">|</span> <span class="identifier">adaptor</span><span class="special">::</span>put_range<span class="special">(</span> from <span class="special">);</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    A reference to <code class="computeroutput">to</code>
                  </p>
                </td>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">to</span> <span class="special">|</span> _put<span class="special">(</span>t<span class="special">[</span><span class="number">0</span><span class="special">])...(</span>t<span class="special">[</span>n<span class="special">])</span>
</pre>
<p>
                  </p>
                </td>
</tr></tbody>
</table></div>
<a name="put_range_caution"></a><div class="caution"><table border="0" summary="Caution">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="../../../../doc/src/images/caution.png"></td>
<th align="left">Caution</th>
</tr>
<tr><td align="left" valign="top"><p>
            It is likely to be preferable to call <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">copy</span><span class="special">(</span><span class="identifier">from</span><span class="special">,</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">begin</span><span class="special">(</span><span class="identifier">to</span><span class="special">)</span> <span class="special">)</span></code> whenever
            possible, which tends to restrict the applicability of <code class="computeroutput">put_range</code>
            to the case in which <code class="computeroutput">to</code> is an <a href="http://flylib.com/books/en/2.674.1.106/1/" target="_top">adapter</a>.
          </p></td></tr>
</table></div>
<a name="boost_assign_v2.ug.put.put_range.example"></a><h6>
<a name="id36340064"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.put_range.example">Example</a>
        </h6>
<p>
          
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">from_</span><span class="special">;</span> <span class="identifier">from_</span> <span class="identifier">from</span><span class="special">(</span> <span class="number">3</span> <span class="special">);</span>
<span class="identifier">from</span><span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">x</span><span class="special">;</span> <span class="identifier">from</span><span class="special">[</span><span class="number">1</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">y</span><span class="special">;</span> <span class="identifier">from</span><span class="special">[</span><span class="number">2</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">z</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">queue</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">to_</span><span class="special">;</span> <span class="comment">// FIFO
</span><span class="identifier">to_</span> <span class="identifier">to</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="special">(</span> <span class="identifier">to</span> <span class="special">|</span> <span class="identifier">_put_range</span><span class="special">(</span> <span class="identifier">from</span> <span class="special">)</span> <span class="special">).</span><span class="identifier">front</span><span class="special">()</span> <span class="special">==</span> <span class="identifier">x</span> <span class="special">);</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span> <span class="identifier">to</span><span class="special">.</span><span class="identifier">back</span><span class="special">()</span> <span class="special">==</span> <span class="identifier">z</span> <span class="special">);</span>
</pre>
<p>
        </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.put.put_convert"></a><a class="link" href="put.html#boost_assign_v2.ug.put.put_convert" title="Adaptor put_convert">Adaptor <code class="computeroutput">put_convert</code></a>
</h4></div></div></div>
<a name="boost_assign_v2.ug.put.put_convert.description"></a><h6>
<a name="id36340447"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.put_convert.description">Description</a>
        </h6>
<p>
          An adaptor for intializing a container in place.
        </p>
<a name="boost_assign_v2.ug.put.put_convert.synopsis"></a><h6>
<a name="id36340465"></a>
          <a class="link" href="put.html#boost_assign_v2.ug.put.put_convert.synopsis">Synopsis</a>
        </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                </th>
<th>
                  <p>
                    Result
                  </p>
                </th>
<th>
                  <p>
                    Property
                  </p>
                </th>
</tr></thead>
<tbody><tr>
<td>
                  <p>
                    
</p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting">from <span class="special">|</span> <span class="identifier">adaptor</span><span class="special">::</span>put_convert<span class="special">&lt;</span>To<span class="special">&gt;();</span>
</pre>
<p>
                  </p>
                </td>
<td>
                  <p>
                    An object of type <code class="computeroutput">To</code>
                  </p>
                </td>
<td>
                  <p>
                    The result is initialized with the elements of <code class="computeroutput">from</code>
                  </p>
                </td>
</tr></tbody>
</table></div>
</div>
<a name="boost_assign_v2.ug.put.example"></a><h5>
<a name="id36340583"></a>
        <a class="link" href="put.html#boost_assign_v2.ug.put.example">Example</a>
      </h5>
<p>
        
</p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">array</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="number">3</span><span class="special">&gt;</span> <span class="identifier">from_</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">stack</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="identifier">to_</span><span class="special">;</span> <span class="comment">// LIFO
</span><span class="identifier">from_</span> <span class="identifier">from</span><span class="special">;</span> <span class="identifier">from</span><span class="special">[</span><span class="number">0</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">x</span><span class="special">;</span> <span class="identifier">from</span><span class="special">[</span><span class="number">1</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">y</span><span class="special">;</span> <span class="identifier">from</span><span class="special">[</span><span class="number">2</span><span class="special">]</span> <span class="special">=</span> <span class="identifier">z</span><span class="special">;</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">adaptor</span><span class="special">;</span>
<span class="identifier">BOOST_ASSERT</span><span class="special">(</span>
	<span class="special">(</span> <span class="identifier">from</span> <span class="special">|</span> <span class="identifier">put_convert</span><span class="special">&lt;</span><span class="identifier">to_</span><span class="special">&gt;()</span> <span class="special">).</span><span class="identifier">top</span><span class="special">()</span> <span class="special">==</span> <span class="identifier">z</span> 
<span class="special">);</span>
</pre>
<p>
      </p>
<div class="footnotes">
<br><hr width="100" align="left">
<div class="footnote"><p><sup>[<a name="ftn.id36334257" href="#id36334257" class="para">4</a>] </sup>
              At least <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">stack</span><span class="special">&lt;&gt;</span></code>
              and <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">queue</span><span class="special">&lt;&gt;</span></code>
            </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2004 Thorsten Ottosen, 2010 Erwann Rogard<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="example_background.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="anon_cont.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
