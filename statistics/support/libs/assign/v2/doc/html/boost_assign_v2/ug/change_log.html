<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Change log</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../../index.html" title="Chapter&#160;1.&#160;Boost.Assign 2.0">
<link rel="up" href="../ug.html" title="User's guide">
<link rel="prev" href="portability.html" title="Portability">
<link rel="next" href="support.html" title="Support">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="portability.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="support.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" title="Change log">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_assign_v2.ug.change_log"></a><a class="link" href="change_log.html" title="Change log"> Change log</a>
</h3></div></div></div>
<div class="toc"><dl><dt><span class="section"><a href="change_log.html#boost_assign_v2.ug.change_log.v2"> [Proposal for] Upgrading
        from Boost v1.4x : Boost.Assign 2.0</a></span></dt></dl></div>
<div class="section" title="[Proposal for] Upgrading from Boost v1.4x : Boost.Assign 2.0">
<div class="titlepage"><div><div><h4 class="title">
<a name="boost_assign_v2.ug.change_log.v2"></a><a class="link" href="change_log.html#boost_assign_v2.ug.change_log.v2" title="[Proposal for] Upgrading from Boost v1.4x : Boost.Assign 2.0"> [Proposal for] Upgrading
        from Boost v1.4x : Boost.Assign 2.0</a>
</h4></div></div></div>
<p>
          An overview of the library is given in the <a class="link" href="../../index.html#boost_assign_v2.preface" title="Preface">preface</a>.
          The organizational change is apparent from the user's guide section, <a class="link" href="../ug.html#boost_assign_v2.ug.start" title="Getting started">Getting started</a>. The remainder
          of this section discusses the rationale for this library.
        </p>
<p>
          <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign 1.0</a>
          will continue to be supported in <a href="http://www.boost.org" target="_top">Boost</a>
          not only to allow backward compatibility, but also to permit a smooth transition
          for users that have been using this popular library for some time.
        </p>
<p>
          <a class="link" href="ref.html" title="Anonymous container of references">Anonymous container of references</a>,
          and being able to <a class="link" href="chain.html" title="Adaptor _chain">chain</a>
          them together or with <a href="http://www.boost.org/doc/libs/1_43_0/libs/range/doc/html/range/concepts.html" target="_top">ranges</a>,
          were already the subject of a <a href="http://lists.boost.org/Archives/boost/2010/06/168028.php" target="_top">mini-review</a>
          during which it became apparent that the existing and proposed features
          lacked homogeneity in their interface. Furthermore, some newly introduced
          features, such as <code class="computeroutput"><span class="identifier">csv</span></code> functions,
          had received sufficient interest to warrant their generalization throughout
          the rest of the library. Another consensus was the request for supporting
          C++0x features. Finally, some confusion was expressed as to whether <code class="computeroutput"><span class="identifier">fun</span><span class="special">()</span></code>
          returns a container that is empty or one that contains a default constructed
          value. Boost.Assign 2.0 adresses these requests with a new design that
          incorporates added benefits, such as greater code-reuse and decoupling,
          and the ability to interact with the library through <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors/introduction.html#range.reference.adaptors.introduction.composition_of_adaptors" target="_top">composable
          adaptors</a>.
        </p>
<p>
          The solution to the <code class="computeroutput"><span class="identifier">fun</span><span class="special">()</span></code> problem, adopted in <a href="../.././index.html" target="_top">Boost.Assign
          2.0</a>, is to keep <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a>'s convention that <code class="computeroutput"><span class="identifier">fun</span><span class="special">()</span></code> creates a default value, but, in addition,
          <code class="computeroutput"><span class="identifier">fun</span><span class="special">(</span>_nil<span class="special">)</span></code> returns an empty container.
        </p>
<p>
          Regarding the interface, whereas <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a> stresses operator idioms (say <code class="computeroutput"><span class="special">+=</span></code>)
          to achieve specific purposes, <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>
          only uses two, <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>
          in a way that is consistent across different tools, as seen <a class="link" href="../../index.html#preface_csv_put">here</a>
          and, optionally, <code class="computeroutput"><span class="keyword">operator</span><span class="special">%</span></code> for a subset of the library, the <a class="link" href="put.html" title="Put">put</a> and <a class="link" href="anon_cont.html" title="Anonymous container of values">anon</a>
          frameworks, respectively. This compact interface is made possible by deducing
          much of the required implementation from a container's traits, while being
          able to override the implementation selectively. An advantage resulting
          from a completely new interface, is that users that are familiar with
          <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign 1.0</a>
          can continue to use it, alongside <a href="../.././index.html" target="_top">Boost.Assign
          2.0</a>, without risking ambiguity resolution.
        </p>
<p>
          Regarding code-reuse, several separate implementations under <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a> were merged, under <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>.
          These are the cases, between <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code>, and the <span class="emphasis"><em>list inserters</em></span>
          such as <code class="computeroutput"><span class="identifier">push_back</span><span class="special">()</span></code>,
          in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a>, and between their counterparts under <a href="../.././index.html" target="_top">Boost.Assign
          2.0</a>, <a class="link" href="anon_cont.html" title="Anonymous container of values"><code class="computeroutput"><span class="identifier">anon</span><span class="special">()</span></code></a>
          <sup>[<a name="id36172929" href="#ftn.id36172929" class="footnote">6</a>]</sup>
          and adaptor <a class="link" href="put.html" title="Put"><code class="computeroutput">_put</code></a>,
          whose results both derive from a common <a href="http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern" target="_top">crtp</a>
          <code class="computeroutput"><span class="keyword">class</span></code>, respectively.
        </p>
<p>
          Among the byproducts of the new design, passing a key and data as two arguments
          to a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">map</span><span class="special">&lt;&gt;</span></code>
          works seamlessly with the same interface as that of other container categories,
          as illustrated in the second code snippet of the <a class="link" href="../../index.html#preface_map">preface</a>,
          whereas, in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a>, a dedicated function is needed, <code class="computeroutput"><span class="identifier">map_list_of</span><span class="special">()</span></code>. Likewise, the <a class="link" href="put.html" title="Put">put
          framework</a> works for <a href="http://www.boost.org/doc/libs/release/libs/ptr_container/doc/ptr_container.html" target="_top">pointer
          containers</a> thanks, only, to minor adjustments to the underlying
          code. Finally, the implementation is open to customization and that job
          is facilitated by macros. See the relevant sections pertaining to the
          <a class="link" href="put.html#boost_assign_v2.ug.put.std_modifier.custom" title="Customization">standard modifier</a>
          and <a class="link" href="put.html#boost_assign_v2.ug.put.ext.custom" title="Customization">extending functionality</a>
          in the <a class="link" href="put.html" title="Put">put framework</a>.
        </p>
<p>
          Regarding decoupling, several functions in <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
          1.0</a> that are member functions of particular objects, such as that
          returned by <code class="computeroutput"><span class="identifier">put_range</span><span class="special">&lt;&gt;()</span></code>
          in the result from <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code> are now adaptors, and therefore decoupled
          from any <code class="computeroutput"><span class="keyword">class</span></code>, and come with
          the benefit that they are <a href="http://www.boost.org/doc/libs/1_44_0/libs/range/doc/html/range/reference/adaptors/introduction.html#range.reference.adaptors.introduction.composition_of_adaptors" target="_top">composable</a>,
          a salient feature of <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>.
        </p>
<p>
          A welcomed spillover from the fea
        </p>
<p>
          The other part comes about as spillovers from some of the new features,
          <a class="link" href="ref.html" title="Anonymous container of references">anynomous container of references</a>,
          to the ones we took on to refactor, resulting, notably, in the <a class="link" href="put.html" title="Put"><code class="computeroutput"><span class="identifier">_kwd_put</span></code> adaptor</a>. In this case,
          the container of references serves as a cost-efficient buffer on the right
          hand side of <code class="computeroutput"><span class="keyword">operator</span><span class="special">|</span></code>
        </p>
<p>
          References an chaining....
        </p>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div class="footnote"><p><sup>[<a name="ftn.id36172929" href="#id36172929" class="para">6</a>] </sup>
              The function <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code> is renamed, under <a href="../.././index.html" target="_top">Boost.Assign
              2.0</a>, to <code class="computeroutput"><span class="identifier">anon</span><span class="special">()</span></code>, for the following reasons. First,
              <code class="computeroutput"><span class="identifier">list_of</span></code> evokes a particular
              data-structure (forward traversal) that is different from the actual
              underlying one, <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">deque</span><span class="special">&lt;&gt;</span></code> (random access). Second, in
              <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a>'s documentation, the result of <code class="computeroutput"><span class="identifier">list_of</span><span class="special">()</span></code> is referred to as an anon-ymous container.
              The new identifier is therefore consistent with this established practice.
              Finally, it avoids ambiguity resolution, in case both <a href="../../../../../../../libs/assign/doc/index.html" target="_top">Boost.Assign
              1.0</a> and <a href="../.././index.html" target="_top">Boost.Assign 2.0</a>
              are used in the same project.
            </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003 -2004 Thorsten Ottosen, 2010 Erwann Rogard<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="portability.html"><img src="../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../ug.html"><img src="../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="support.html"><img src="../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
