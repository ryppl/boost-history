boost_library_project(
  D
)

boost_library(d
  lib.cpp
  COMPILE_FLAGS -DD_COMPILE_FLAGS
  STICKY_COMPILE_FLAGS "-I${CMAKE_CURRENT_SOURCE_DIR} -DD_STICKY_COMPILE_FLAGS"
  STATIC_COMPILE_FLAGS -DLINKTYPE=static
  STICKY_STATIC_COMPILE_FLAGS -DD_STICKY_STATIC_COMPILE_FLAGS
  SHARED_COMPILE_FLAGS -DLINKTYPE=shared
  STICKY_SHARED_COMPILE_FLAGS -DD_STICKY_SHARED_COMPILE_FLAGS
  DEPENDS b c 
)

boost_test_run(test_shared DEPENDS b-shared c-shared d-shared)
boost_test_run(test_static DEPENDS b-static c-static d-static)

