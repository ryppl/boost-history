
import modules ;
import path ;

# Import a newer version of g++ and configure it for C++0x support.
using gcc : 4.4 : g++-4.4 : <cxxflags>--`std=c++0x ;

# Define the boost root for this and nested projects. This shouold try to pull
# a specification from the build.
local boost-root = [ modules.peek : BOOST_ROOT ] ;
if ! $(boost-root)
{
    local boost-search-dirs = [ modules.peek : BOOST_BUILD_PATH ] ;

    for local dir in $(boost-search-dirs)
    {
        if [ path.glob $(dir)/../../../ : boost/version.hpp ]
        {
            boost-root += $(dir)/../../../ ;
        }
    }

    if $(boost-root)
    {
        boost-root = [ path.make $(boost-root[1]) ] ;
    }
    else
    {
        ECHO "Warning: couldn't find BOOST_ROOT in" $(boost-root) ;
    }
}
