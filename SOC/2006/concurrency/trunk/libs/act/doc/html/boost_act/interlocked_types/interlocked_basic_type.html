<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Interlocked Basic Type</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="../../index.html" title="Boost.Act">
<link rel="up" href="../interlocked_types.html" title="Interlocked Types">
<link rel="prev" href="../interlocked_types.html" title="Interlocked Types">
<link rel="next" href="interlocked_arithmetic_type.html" title="Interlocked Arithmetic Type">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div id="heading">
<div id="heading-placard"></div>
<div class="heading_navigation_box"></div>
<div class="heading_search_box"></div>
</div>
<div class="spirit-nav">
<a accesskey="p" href="../interlocked_types.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../interlocked_types.html"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="interlocked_arithmetic_type.html"><img src="../../images/next.png" alt="Next"></a>
</div>
<div id="body"><div id="body-inner">
<div id="content"><div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="boost_act.interlocked_types.interlocked_basic_type"></a><a href="interlocked_basic_type.html" title="Interlocked Basic Type">Interlocked
      Basic Type</a></h3></div></div></div>
<p>
        An <code class="literal">Interlocked Basic Type</code> is a type whose instances support
        thread-safe <code class="computeroutput"><span class="identifier">load</span></code> and <code class="computeroutput"><span class="identifier">store</span></code> operations and which are often used
        in the implementation of lock-free code. In the current version of Boost.Act,
        only built-in types may be <code class="literal">Interlocked Basic Types</code>, although
        this will likely change in future releases.
      </p>
<p>
        In order to be considered a valid <code class="literal">Interlocked Type</code>, given
        the variable definitions below, the following expressions must be well-formed
        and have the indicated effects.
      </p>
<div class="variablelist">
<p class="title"><b>Interlocked Type Descriptive Variable Definitions</b></p>
<dl>
<dt><span class="term"><code class="computeroutput"><span class="identifier">I</span></code></span></dt>
<dd>
          An <code class="literal">Interlocked Type</code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">IV</span></code></span></dt>
<dd>
<code class="computeroutput"><span class="identifier">I</span> <span class="keyword">volatile</span></code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">C1</span></code></span></dt>
<dd>
          A type which is convertible to <code class="computeroutput"><span class="identifier">IV</span></code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">C2</span></code></span></dt>
<dd>
          A type which is convertible to <code class="computeroutput"><span class="identifier">IV</span></code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">iv</span></code></span></dt>
<dd>
          Value of type <code class="computeroutput"><span class="identifier">I</span> <span class="keyword">volatile</span><span class="special">&amp;</span></code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">c1</span></code></span></dt>
<dd>
          Value of type <code class="computeroutput"><span class="identifier">C1</span> <span class="keyword">const</span><span class="special">&amp;</span></code>.
        </dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">c2</span></code></span></dt>
<dd>
          Value of type <code class="computeroutput"><span class="identifier">C2</span> <span class="keyword">const</span><span class="special">&amp;</span></code>.
        </dd>
</dl>
</div>
<a name="boost_act.interlocked_types.interlocked_basic_type.expression_requirements"></a><h5>
<a name="id492468"></a>
        <a href="interlocked_basic_type.html#boost_act.interlocked_types.interlocked_basic_type.expression_requirements">Expression
        Requirements</a>
      </h5>
<div class="note">
<div class="admonition-graphic"><img alt="[Note]" src="../../images/note.png"></div>
<div class="admonition-body">
<div class="admonition-title">Note</div>
<div class="admonition-content">
<p>
          </p>
<p>
            In the following requirements, certain operations are listed as having
            <span class="emphasis"><em>acquire</em></span> memory semantics, <span class="emphasis"><em>release</em></span>
            memory semantics, or both. Operations with <span class="emphasis"><em>acquire</em></span>
            memory semantics imply that the memory operation being performed by the
            current thread will be visible before any other memory operations are
            attempted. Operations with <span class="emphasis"><em>release</em></span> memory semantics
            imply that the memory operation being performed by the current thread
            will be visible after all other memory operations have been completed.
            For brevity, functions and templates are listed without qualification
            although they actually exist in in the namespace <code class="computeroutput"><span class="special">::</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">act</span><span class="special">::</span><span class="identifier">interlocked</span></code>.
          </p>
<p>
        </p>
</div>
</div>
</div>
<div class="table">
<a name="id492558"></a><p class="title"><b>Table 4. Interlocked Type Requirements</b></p>
<div class="table-contents"><table class="table" summary="Interlocked Type Requirements">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
            <p>
              Expression
            </p>
            </th>
<th>
            <p>
              Return Type
            </p>
            </th>
<th>
            <p>
              Pre/Post-Condition
            </p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">I</span><span class="special">()</span></code>
            </p>
            </td>
<td>
            <p>
            </p>
            </td>
<td>
            <p>
              Constructs an instance of <code class="computeroutput"><span class="identifier">I</span></code>
              with an unspecified initial value. <span class="emphasis"><em>Note: This is not an interlocked
              operation and does not imply a memory barrier of any kind. --end note</em></span>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">I</span> <span class="identifier">i</span>
              <span class="special">=</span> <span class="identifier">c1</span></code>
            </p>
            </td>
<td>
            <p>
            </p>
            </td>
<td>
            <p>
              Constructs an instance of <code class="computeroutput"><span class="identifier">I</span></code>
              with <code class="computeroutput"><span class="identifier">c1</span></code> as an initial
              value. <span class="emphasis"><em>Note: This is not an interlocked operation and does
              not imply a memory barrier of any kind. --end note</em></span>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">iv</span> <span class="special">=</span>
              <span class="identifier">c1</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">I</span><span class="special">&amp;</span></code>
            </p>
            </td>
<td>
            <p>
              Stores the value of <code class="computeroutput"><span class="identifier">c1</span></code>
              to object <code class="computeroutput"><span class="identifier">i</span></code>. Returns
              a reference to <code class="computeroutput"><span class="identifier">iv</span></code>.
              <span class="emphasis"><em>Note: This is not an interlocked operation and does not imply
              a memory barrier of any kind. --end note</em></span>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">store</span><span class="special">&lt;</span>
              <span class="identifier">unordered</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Stores the value of <code class="computeroutput"><span class="identifier">c1</span></code>
              to object <code class="computeroutput"><span class="identifier">iv</span></code> with no
              ordering guarantees.
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">store</span><span class="special">&lt;</span>
              <span class="identifier">release</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Stores the value of <code class="computeroutput"><span class="identifier">c1</span></code>
              to object <code class="computeroutput"><span class="identifier">iv</span></code> with
              <span class="emphasis"><em>release</em></span> memory semantics.
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">store</span><span class="special">(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Effectively calls <code class="computeroutput"><span class="identifier">store</span><span class="special">&lt;</span> <span class="identifier">release</span>
              <span class="special">&gt;(</span> <span class="identifier">iv</span><span class="special">,</span> <span class="identifier">cl</span> <span class="special">)</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">store</span><span class="special">&lt;</span>
              <span class="identifier">default_</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Effectively calls <code class="computeroutput"><span class="identifier">store</span><span class="special">&lt;</span> <span class="identifier">release</span>
              <span class="special">&gt;(</span> <span class="identifier">iv</span><span class="special">,</span> <span class="identifier">cl</span> <span class="special">)</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">load</span><span class="special">&lt;</span>
              <span class="identifier">unordered</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Stores the value of <code class="computeroutput"><span class="identifier">c1</span></code>
              to object <code class="computeroutput"><span class="identifier">iv</span></code> with no
              ordering guarantees.
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">load</span><span class="special">&lt;</span>
              <span class="identifier">acquire</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Stores the value of <code class="computeroutput"><span class="identifier">c1</span></code>
              to object <code class="computeroutput"><span class="identifier">iv</span></code> with
              <span class="emphasis"><em>acquire</em></span> memory semantics.
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">load</span><span class="special">(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Effectively calls <code class="computeroutput"><span class="identifier">load</span><span class="special">&lt;</span> <span class="identifier">acquire</span>
              <span class="special">&gt;(</span> <span class="identifier">iv</span><span class="special">,</span> <span class="identifier">cl</span> <span class="special">)</span></code>
            </p>
            </td>
</tr>
<tr>
<td>
            <p>
              <code class="computeroutput"><span class="identifier">load</span><span class="special">&lt;</span>
              <span class="identifier">default_</span> <span class="special">&gt;(</span>
              <span class="identifier">iv</span><span class="special">,</span>
              <span class="identifier">c1</span> <span class="special">)</span></code>
            </p>
            </td>
<td>
            <p>
              <code class="computeroutput"><span class="keyword">void</span></code>
            </p>
            </td>
<td>
            <p>
              Effectively calls <code class="computeroutput"><span class="identifier">load</span><span class="special">&lt;</span> <span class="identifier">acquire</span>
              <span class="special">&gt;(</span> <span class="identifier">iv</span><span class="special">,</span> <span class="identifier">cl</span> <span class="special">)</span></code>
            </p>
            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div></div>
<div class="clear"></div>
</div></div>
<div class="spirit-nav">
<a accesskey="p" href="../interlocked_types.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../interlocked_types.html"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="interlocked_arithmetic_type.html"><img src="../../images/next.png" alt="Next"></a>
</div>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" id="footer">
<div id="footer-left">
<div id="copyright"><p>Copyright © 2006 , 2007 Matthew Calabrese</p></div>
<div id="license"><p>Distributed under the
                  <a href="/LICENSE_1_0.txt" class="internal">Boost Software License, Version 1.0</a>.
               </p></div>
</div>
<div id="footer-right"><div id="banners">
<p id="banner-xhtml"><a href="http://validator.w3.org/check?uri=referer" class="external">XHTML 1.0</a></p>
<p id="banner-css"><a href="http://jigsaw.w3.org/css-validator/check/referer" class="external">CSS</a></p>
<p id="banner-sourceforge"><a href="http://sourceforge.net" class="external">SourceForge</a></p>
</div></div>
<div class="clear"></div>
</div>
</body>
</html>
