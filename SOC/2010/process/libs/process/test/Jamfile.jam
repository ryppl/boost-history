# 
# Boost.Process 
# ~~~~~~~~~~~~~ 
# 
# Copyright (c) 2006, 2007 Julio M. Merino Vidal 
# Copyright (c) 2008 Ilya Sokolov, Boris Schaeling 
# Copyright (c) 2009 Boris Schaeling 
# Copyright (c) 2010 Felipe Tanus, Boris Schaeling 
# 
# Distributed under the Boost Software License, Version 1.0. (See accompanying 
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) 
# 

alias bfs : /boost//filesystem : : : <link>shared:<source>/boost//system ; 
explicit bfs ; 

alias bt : /boost//thread ; 
explicit bt ; 

project : requirements 
        <target-os>windows:<define>WIN32_LEAN_AND_MEAN 
        <target-os>linux:<linkflags>-lpthread 
        <target-os>freebsd:<linkflags>-pthread ; 

exe helpers : util/helpers.cpp bfs ; 
explicit helpers ; 

using testing ; 

for local i in [ glob inclusion/*.cpp ] 
{ 
    compile $(i) : : include_$(i:B) ; 
} 

run environment.cpp bfs ; 
run handle.cpp bfs ; 
run self.cpp bfs ; 
run systembuf.cpp bfs ; 

run arguments.cpp bfs : : helpers : <dependency>helpers ; 
run child.cpp bfs : : helpers : <dependency>helpers ; 
run executable.cpp bfs : : helpers : <dependency>helpers ; 
run process.cpp bfs : : helpers : <dependency>helpers ; 
run status.cpp bfs : : helpers : <dependency>helpers ; 
run wait.cpp bfs bt : : helpers : <dependency>helpers ; 
