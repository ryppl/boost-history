# Copyright 2007 Stjepan Rajko.
# Distributed under the Boost Software License, Version 1.0. (See
# accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

import os ;

lib glut : : <name>glut <link>shared ;
lib openGL : : <name>GL <link>shared ;
lib openGLU : : <name>GLU <link>shared ;
lib X11 : : <name>X11 <link>shared ;
lib Xext : : <name>Xext ;
lib pthread : : <name>pthread <link>shared ;

lib Xaw : : <name>Xaw7 ;
lib Xv : : <name>Xv ;
lib X11-xcb : : <name>X11-xcb  ;
lib gtk : : <name>GTK ;

lib mingw_glut : : <name>glut32 ;
lib mingw_openGL : : <name>opengl32 ;
lib mingw_openGLU : : <name>glu32 ;

if [ os.name ] = NT
{
    GLlibraries = mingw_openGL mingw_openGLU mingw_glut ;
}
else
{
    GLlibraries = glut ;
}

project dataflow/example/glv
    : source-location src
    : usage-requirements
        <include>include
        <toolset>darwin:<linkflags>"-framework AGL"
        <toolset>darwin:<linkflags>"-framework GLUT"
        <toolset>darwin:<linkflags>"-framework OpenGL"
        <toolset>gcc:<library>$(GLlibraries)
        <toolset>msvc:<define>WIN32
    : requirements
        <include>include
        <toolset>darwin:<linkflags>"-framework AGL"
        <toolset>darwin:<linkflags>"-framework GLUT"
        <toolset>darwin:<linkflags>"-framework OpenGL"
        <toolset>gcc:<library>$(GLlibraries)
        <toolset>msvc:<define>WIN32
        <toolset>msvc:<define>WIN32
    ;

SOURCES =  glv_buttons glv_color glv_core glv_draw glv_glv
    glv_inputdevice glv_layout glv_sliders glv_textview glv_view ;

lib lib_glv : glv_abstract_binding.cpp $(SOURCES).cpp glv_binding_glut.cpp
    ;
    
lib lib_glv_pimpl : glv_pimpl_binding.cpp $(SOURCES).cpp glv_pimpl_binding_glut.cpp
    ;
