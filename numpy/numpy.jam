import testing ;
import python ;

rule numpy-test ( name : sources * : requirements * )
{
    sources ?= $(name).py $(name)_mod.cpp ;
    return [ testing.make-test run-pyd : $(sources) /boost/numpy//boost_numpy
        : $(requirements) : $(name) ] ;
}

rule probe ( python-cmd )
{
  local full-cmd =
      $(python-cmd)" -c \"from numpy.distutils import misc_util; print misc_util.get_numpy_include_dirs()" ;

  local output = [ shell-cmd $(full-cmd) ] ;
  return $(output) ;
}
