<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Generic Geometry Library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body style="background-image: url(images/draft.png);">

<table cellpadding="2" width="100%">
<tbody>
<tr>
<td valign="top">
<img alt="GGL" src="images/ggl-logo-big.png" height="80" width="200">
&nbsp;&nbsp;
</td>
<td valign="top" align="right">
<img alt="Boost C++ Libraries" src="images/proposed_boost.png" height="86" width="277">
</td>
</tr>
</tbody>
</table>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>ggl/strategies/spherical/sph_envelope.hpp</h1><a href="sph__envelope_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Generic Geometry Library</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// Copyright Barend Gehrels 1995-2009, Geodan Holding B.V. Amsterdam, the Netherlands.</span>
<a name="l00004"></a>00004 <span class="comment">// Copyright Bruno Lalande 2008, 2009</span>
<a name="l00005"></a>00005 <span class="comment">// Use, modification and distribution is subject to the Boost Software License,</span>
<a name="l00006"></a>00006 <span class="comment">// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at</span>
<a name="l00007"></a>00007 <span class="comment">// http://www.boost.org/LICENSE_1_0.txt)</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef GGL_GEOMETRY_STRATEGIES_SPHERICAL_SPH_ENVELOPE_HPP</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define GGL_GEOMETRY_STRATEGIES_SPHERICAL_SPH_ENVELOPE_HPP</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;boost/numeric/conversion/bounds.hpp&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;boost/numeric/conversion/cast.hpp&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">// NOTE: maybe evaluate/rework this using new "compare" strategy</span>
<a name="l00016"></a>00016 <span class="comment">// - implement "compare" for latlong (e.g. return true if distance-difference &lt; 90 deg, so 170 &lt; -170 but 90 &gt; -180)</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">namespace </span>ggl
<a name="l00020"></a>00020 {
<a name="l00021"></a>00021 <span class="keyword">namespace </span>strategy
<a name="l00022"></a>00022 {
<a name="l00023"></a>00023     <span class="keyword">namespace </span><a class="code" href="group__envelope.html#g4676217c7bc60742c3dc7dad7bbfa2b8" title="Calculate envelope of a geometry, using a specified strategy.">envelope</a>
<a name="l00024"></a>00024     {
<a name="l00025"></a>00025         <span class="comment">// envelope calculation strategy for latlong-points</span>
<a name="l00026"></a><a class="code" href="namespaceggl_1_1strategy_1_1envelope_1_1shift.html">00026</a>         <span class="keyword">namespace </span>shift
<a name="l00027"></a>00027         {
<a name="l00028"></a>00028             <span class="keyword">template</span> &lt;<span class="keyword">typename</span> D&gt;
<a name="l00029"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">00029</a>             <span class="keyword">struct </span><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">shifted</a>
<a name="l00030"></a>00030             {
<a name="l00031"></a>00031             };
<a name="l00032"></a>00032 
<a name="l00033"></a>00033             <span class="keyword">template</span>&lt;&gt;
<a name="l00034"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01radian_01_4.html">00034</a>             <span class="keyword">struct </span><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">shifted</a>&lt;<a class="code" href="classggl_1_1radian.html" title="Unit of plan angles: radians.">radian</a>&gt;
<a name="l00035"></a>00035             {
<a name="l00036"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01radian_01_4.html#190d1b26ee176ef44202ae326af8d1b4">00036</a>                 <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01radian_01_4.html#190d1b26ee176ef44202ae326af8d1b4">shift</a>() { <span class="keywordflow">return</span> <a class="code" href="namespaceggl_1_1math.html#48e76b75db9d3d5685245cfbfd1c821e">math::two_pi</a>; }
<a name="l00037"></a>00037             };
<a name="l00038"></a>00038             <span class="keyword">template</span>&lt;&gt;
<a name="l00039"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01degree_01_4.html">00039</a>             <span class="keyword">struct </span><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">shifted</a>&lt;<a class="code" href="classggl_1_1degree.html" title="Unit of plan angles: degrees.">degree</a>&gt;
<a name="l00040"></a>00040             {
<a name="l00041"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01degree_01_4.html#6dc89bfc493d2a8abca5e257729089c3">00041</a>                 <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted_3_01degree_01_4.html#6dc89bfc493d2a8abca5e257729089c3">shift</a>() { <span class="keywordflow">return</span> 360.0; }
<a name="l00042"></a>00042             };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044         }
<a name="l00045"></a>00045 
<a name="l00060"></a>00060         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> P, <span class="keyword">typename</span> B&gt;
<a name="l00061"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll.html">00061</a>         <span class="keyword">struct </span><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll.html">grow_ll</a>
<a name="l00062"></a>00062         {
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html">00064</a>             <span class="keyword">struct </span><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html">state</a>
<a name="l00065"></a>00065             {
<a name="l00066"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">00066</a>                 <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structggl_1_1coordinate__type.html" title="Meta-function which defines coordinate type (int, float, double, etc) of any geometry...">coordinate_type&lt;B&gt;::type</a> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>;
<a name="l00067"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e1071544a91b9e47caf7a7af12c885cb">00067</a>                 <span class="keywordtype">bool</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e1071544a91b9e47caf7a7af12c885cb">has_west</a>;
<a name="l00068"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#f29ab2f455444e3dc92d22ac62add570">00068</a>                 <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#f29ab2f455444e3dc92d22ac62add570">min_lat</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#2201a3f05376ad97399f34bf6d6043d4">max_lat</a>;
<a name="l00069"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#94725f05c9b3cdaeea0098260f7babc8">00069</a>                 <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#534528aad828ca28260ca496d1ca89a9">min_lon1</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#94725f05c9b3cdaeea0098260f7babc8">min_lon2</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#a47697f286fa8f5f0eb4e40df7dfd8e0">max_lon2</a>;
<a name="l00070"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#ce5b18d34b88c63c3b35198370dd947e">00070</a>                 B&amp; <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#ce5b18d34b88c63c3b35198370dd947e">mbr</a>;
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e7472309bf08955ee6e41f15f6124516">00072</a>                 <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e7472309bf08955ee6e41f15f6124516">state</a>(B&amp; b)
<a name="l00073"></a>00073                     : <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#ce5b18d34b88c63c3b35198370dd947e">mbr</a>(b)
<a name="l00074"></a>00074                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e1071544a91b9e47caf7a7af12c885cb">has_west</a>(false)
<a name="l00075"></a>00075                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#f29ab2f455444e3dc92d22ac62add570">min_lat</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::highest())
<a name="l00076"></a>00076                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#534528aad828ca28260ca496d1ca89a9">min_lon1</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::highest())
<a name="l00077"></a>00077                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#94725f05c9b3cdaeea0098260f7babc8">min_lon2</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::highest())
<a name="l00078"></a>00078                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#2201a3f05376ad97399f34bf6d6043d4">max_lat</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::lowest())
<a name="l00079"></a>00079                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::lowest())
<a name="l00080"></a>00080                     , <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#a47697f286fa8f5f0eb4e40df7dfd8e0">max_lon2</a>(boost::numeric::bounds&lt;<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&gt;::lowest())
<a name="l00081"></a>00081                 {}
<a name="l00082"></a>00082 
<a name="l00083"></a>00083                 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00084"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#889b7eeef1d373c2895b08a58b2eb386">00084</a>                 <span class="keywordtype">void</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#889b7eeef1d373c2895b08a58b2eb386">take_minmax</a>(<span class="keyword">const</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&amp; value, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&amp; min_value, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a>&amp; max_value)
<a name="l00085"></a>00085                 {
<a name="l00086"></a>00086                     <span class="keywordflow">if</span> (value &lt; min_value)
<a name="l00087"></a>00087                     {
<a name="l00088"></a>00088                         min_value = value;
<a name="l00089"></a>00089                     }
<a name="l00090"></a>00090                     <span class="keywordflow">if</span> (value &gt; max_value)
<a name="l00091"></a>00091                     {
<a name="l00092"></a>00092                         max_value = value;
<a name="l00093"></a>00093                     }
<a name="l00094"></a>00094                 }
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#6fc324d20c8daa360438eadd15c4d2ec">00096</a>                 <span class="keywordtype">void</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#6fc324d20c8daa360438eadd15c4d2ec">grow</a>(<span class="keyword">const</span> P&amp; p)
<a name="l00097"></a>00097                 {
<a name="l00098"></a>00098                     <span class="comment">// For latitude, we can take the min/max</span>
<a name="l00099"></a>00099                     <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#889b7eeef1d373c2895b08a58b2eb386">take_minmax</a>(get&lt;1&gt;(p), <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#f29ab2f455444e3dc92d22ac62add570">min_lat</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#2201a3f05376ad97399f34bf6d6043d4">max_lat</a>);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 
<a name="l00102"></a>00102                     <span class="comment">// For longitude, we do the same...</span>
<a name="l00103"></a>00103                     <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#889b7eeef1d373c2895b08a58b2eb386">take_minmax</a>(get&lt;0&gt;(p), <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#534528aad828ca28260ca496d1ca89a9">min_lon1</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a>);
<a name="l00104"></a>00104 
<a name="l00105"></a>00105                     <span class="comment">// But we also add 360 (2pi) if it is negative</span>
<a name="l00106"></a>00106                     <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a> value = get&lt;0&gt;(p);
<a name="l00107"></a>00107                     <span class="keywordflow">while</span>(value &lt; 0)
<a name="l00108"></a>00108                     {
<a name="l00109"></a>00109                         <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e1071544a91b9e47caf7a7af12c885cb">has_west</a> = <span class="keyword">true</span>;
<a name="l00110"></a>00110                         value += <a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">shift::shifted&lt;typename coordinate_system&lt;P&gt;::type::units</a>&gt;::shift();
<a name="l00111"></a>00111                     }
<a name="l00112"></a>00112                     <span class="keywordflow">while</span> (value &gt; <a class="code" href="namespaceggl_1_1math.html#48e76b75db9d3d5685245cfbfd1c821e">math::two_pi</a>)
<a name="l00113"></a>00113                     {
<a name="l00114"></a>00114                         value -= <a class="code" href="structggl_1_1strategy_1_1envelope_1_1shift_1_1shifted.html">shift::shifted&lt;typename coordinate_system&lt;P&gt;::type::units</a>&gt;::shift();
<a name="l00115"></a>00115                     }
<a name="l00116"></a>00116                     <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#889b7eeef1d373c2895b08a58b2eb386">take_minmax</a>(value, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#94725f05c9b3cdaeea0098260f7babc8">min_lon2</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#a47697f286fa8f5f0eb4e40df7dfd8e0">max_lon2</a>);
<a name="l00117"></a>00117                 }
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#942d57c72565b6b3dcd03fe213c4ad98">00119</a>                 <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#942d57c72565b6b3dcd03fe213c4ad98">~state</a>()
<a name="l00120"></a>00120                 <span class="comment">//void envelope(box&lt;PB&gt;&amp; mbr)</span>
<a name="l00121"></a>00121                 {
<a name="l00122"></a>00122                     <span class="comment">// For latitude it is easy</span>
<a name="l00123"></a>00123                     set&lt;min_corner, 1&gt;(<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#ce5b18d34b88c63c3b35198370dd947e">mbr</a>, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#f29ab2f455444e3dc92d22ac62add570">min_lat</a>);
<a name="l00124"></a>00124                     set&lt;max_corner, 1&gt;(mbr, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#2201a3f05376ad97399f34bf6d6043d4">max_lat</a>);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126                     <span class="keywordflow">if</span> (! <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#e1071544a91b9e47caf7a7af12c885cb">has_west</a>)
<a name="l00127"></a>00127                     {
<a name="l00128"></a>00128                         set&lt;min_corner, 0&gt;(mbr, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#534528aad828ca28260ca496d1ca89a9">min_lon1</a>);
<a name="l00129"></a>00129                         set&lt;max_corner, 0&gt;(mbr, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a>);
<a name="l00130"></a>00130                     }
<a name="l00131"></a>00131                     <span class="keywordflow">else</span>
<a name="l00132"></a>00132                     {
<a name="l00133"></a>00133                         <span class="comment">// Get both ranges</span>
<a name="l00134"></a>00134                         <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a> diff1 = <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a> - <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#534528aad828ca28260ca496d1ca89a9">min_lon1</a>;
<a name="l00135"></a>00135                         <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#4cb442f681af66944c84e593cc485748">T</a> diff2 = <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#a47697f286fa8f5f0eb4e40df7dfd8e0">max_lon2</a> - <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#94725f05c9b3cdaeea0098260f7babc8">min_lon2</a>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                         <span class="comment">//std::cout &lt;&lt; "range 1: " &lt;&lt; min_lon1 * math::r2d &lt;&lt; ".." &lt;&lt; max_lon1 * math::r2d &lt;&lt; std::endl;</span>
<a name="l00138"></a>00138                         <span class="comment">//std::cout &lt;&lt; "range 2: " &lt;&lt; min_lon2 * math::r2d &lt;&lt; ".." &lt;&lt; max_lon2 * math::r2d &lt;&lt; std::endl;</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140                         <span class="keywordflow">if</span> (diff1 &lt;= diff2)
<a name="l00141"></a>00141                         {
<a name="l00142"></a>00142                             set&lt;min_corner, 0&gt;(mbr, min_lon1);
<a name="l00143"></a>00143                             set&lt;max_corner, 0&gt;(mbr, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#fe85bd912fea074a5d04e31b0e799880">max_lon1</a>);
<a name="l00144"></a>00144                         }
<a name="l00145"></a>00145                         <span class="keywordflow">else</span>
<a name="l00146"></a>00146                         {
<a name="l00147"></a>00147                             set&lt;min_corner, 0&gt;(mbr, min_lon2);
<a name="l00148"></a>00148                             set&lt;max_corner, 0&gt;(mbr, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#a47697f286fa8f5f0eb4e40df7dfd8e0">max_lon2</a>);
<a name="l00149"></a>00149                         }
<a name="l00150"></a>00150                     }
<a name="l00151"></a>00151                 }
<a name="l00152"></a>00152             };
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll.html#8f49bd3eba8c415f56e24d4085e2b1be">00154</a>             <span class="keyword">typedef</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html">state</a> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html">state_type</a>;
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll.html#0a66b9fd4e7caf701344b9412cf0df5b">00156</a>             <span class="keywordtype">void</span> <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll.html#0a66b9fd4e7caf701344b9412cf0df5b">operator()</a>(<span class="keyword">const</span> P&amp; p, <a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html">state_type</a>&amp; s)<span class="keyword"> const</span>
<a name="l00157"></a>00157 <span class="keyword">            </span>{
<a name="l00158"></a>00158                 s.<a class="code" href="structggl_1_1strategy_1_1envelope_1_1grow__ll_1_1state.html#6fc324d20c8daa360438eadd15c4d2ec">grow</a>(p);
<a name="l00159"></a>00159             }
<a name="l00160"></a>00160         };
<a name="l00161"></a>00161     } <span class="comment">// namespace envelope</span>
<a name="l00162"></a>00162 } <span class="comment">// namespace strategy</span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#ifndef DOXYGEN_NO_STRATEGY_SPECIALIZATIONS</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> P, <span class="keyword">typename</span> B&gt;
<a name="l00167"></a>00167 <span class="keyword">struct </span>strategy_envelope&lt;geographic_tag, geographic_tag, P, B&gt;
<a name="l00168"></a>00168 {
<a name="l00169"></a>00169     <span class="keyword">typedef</span> strategy::envelope::grow_ll&lt;P, B&gt;  <a class="code" href="structggl_1_1strategy__envelope.html#3254d57340b4c3fc7ff081522627cbc2">type</a>;
<a name="l00170"></a>00170 };
<a name="l00171"></a>00171 <span class="preprocessor">#endif</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>
<a name="l00173"></a>00173 } <span class="comment">// namespace ggl</span>
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="preprocessor">#endif // GGL_GEOMETRY_STRATEGIES_SPHERICAL_SPH_ENVELOPE_HPP</span>
</pre></div></div>
<hr size="1">
<table width="100%">
<tbody>
<tr>
<td align="left"><small>
<p>October 13, 2009</p>
</small></td>
<td align="right">
<small>Copyright © 1995-2009 Barend Gehrels, Geodan, Amsterdam<br>
Copyright © 2008-2009 Bruno Lalande, Paris<br>
Copyright © 2009 Mateusz Loskot, Cadcorp, London<br>
</small>
</td>
</tr>
</tbody>
</table>

<address style="text-align: right;"><small>
Documentation is generated by&nbsp;<a href="http://www.doxygen.org/index.html">Doxygen</a>
</small></address>
</body>
</html>
