<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="threads, BTL, thread library, C++">
<title>Boost.Threads, lock_error</title>
</head>

<body bgcolor="#FFFFFF" link="#0000FF" vlink="#800080">

<table border="0" cellpadding="7" cellspacing="0" width="100%">
    <tr>
        <td valign="top" width="300">
			<h3><img src="../../../c++boost.gif" alt="C++ Boost" width="277" height="86"></h3>
        </td>
        <td valign="top">
			<h1 align="center">Boost.Threads</h1>
			<h2 align="center">lock_error</h2>
        </td>
    </tr>
</table>

<hr>

<p>The <tt>lock_error</tt> class defines an exception type that is thrown by lock operations that
would deadlock or unlock operations performed by a thread that does not own the lock.</p>

<h2>Header</h2>

<pre>
#include <a href="../../../boost/thread/thread.hpp">&lt;boost/thread/thread.hpp&gt;</a>
</pre>

<h2>Public Interface</h2>

<pre>
    class lock_error : public std::runtime_error
    {
    public:
       lock_error();
    };
</pre>

<h3>Constructor</h3>

<pre>
    lock_error();
</pre>

<p>Constructs a <tt>lock_error</tt>.</p>

<h2>Example Usage</h2>

<pre>
#include <a href="../../../boost/thread/mutex.hpp">&lt;boost/thread/mutex.hpp&gt;</a>
#include <a href="../../../boost/thread/thread.hpp">&lt;boost/thread/thread.hpp&gt;</a>
#include &lt;iostream&gt;

int main(int, char*[])
{
    boost::mutex mutex;
    boost::mutex::lock lock(mutex);
    try
    {
       boost::mutex::lock deadlock(mutex);
       std::cout &lt;&lt; &quot;lock succeeded&quot; &lt;&lt; std::endl;
    }
    catch (boost::lock_error&amp; err)
    {
       std::cout &lt;&lt; err.what() &lt;&lt; &quot; - deadlock occurred.&quot; &lt;&lt; std::endl;
    }
}
</pre>

<p>The output is:</p>

<pre>
thread lock error - deadlock occurred.
</pre>

<hr>

<p><i>Copyright <a href="mailto:williamkempf@hotmail.com">William E. Kempf</a>
2001 all rights reserved.</i></p>

</body>
</html>
