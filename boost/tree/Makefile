# Makefile for ntree.hpp unittests
# written by Marc Cromme, marc@cromme.dk


###########################################################
# Compiler flags


CCPP = g++-3.1
#CCPP = g++-3.2

# production flags
#CCFLAGS = -O3 --pipe

# debug flags
CCFLAGS = -g -p -ansi -pedantic -W -Wall -Wshadow -Wpointer-arith
#CCFLAGS = -g -p -ansi -pedantic -W -Wall -Wshadow -Wpointer-arith -Weffc++ -Wfloat-equal 

# Include flags
#INCFLAG = -I/usr/include -I/usr/local/include 
#INCFLAG = -I/usr/include -I/usr/local/include -I/usr/include/stlport

# Linker flags
#STLFLAG = -lstlport


###########################################################
# Suffix rules for compilation


# suffix rules
.SUFFIXES: .o  .cpp  

# compile C++ code to Object files
.cpp.o:
	$(CCPP) $(CCFLAGS)  -c $*.cpp  $(INCFLAG)


###########################################################
# Targets, executables
TARGETS = utest

UTEST = unittest.o utest.o utest_ntree.o  


all:  $(TARGETS)


# link into executable targets

utest: $(UTEST)
	$(CCPP) $(UTEST)  -o $@ $(STLFLAG) 


clean: 
	rm -f *.o *.ii *.s *~

realclean: 
	rm -f *.o *.ii *.s *~ $(TARGETS)


###########################################################
# Subtargets, generated by 'g++-3.1 -MM *.cpp'

unittest.o: unittest.cpp unittest.hpp
utest.o: utest.cpp unittest.hpp
utest_ntree.o: utest_ntree.cpp unittest.hpp ntree.hpp

















